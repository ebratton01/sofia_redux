<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Configuration &#8212; sofia_redux v1.3.4.dev0</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    
    <script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=602f4d50"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <link rel="icon" href="../../_static/redux.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="flag_weights" href="../../api/sofia_redux.scan.channels.channel_numba_functions.flag_weights.html" />
    <link rel="prev" title="Usage" href="scan_usage.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://www.sofia.usra.edu/"></a></li>
    <li><a title="General Index" href="../../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="../../api/sofia_redux.scan.channels.channel_numba_functions.flag_weights.html" title="flag_weights">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="scan_usage.html" title="Usage">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../../index.html">sofia_redux v1.3.4.dev0</a>
	 &#187;
      </li>
      <li><a href="../index.html" >SOFIA Redux</a> &#187;</li>
      <li><a href="index.html" accesskey="U">sofia_redux.scan: Scan Mode Algorithms for SOFIA Pipelines</a> &#187;</li>
      
      <li>Configuration</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="configuration">
<span id="scan-configuration"></span><h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">¶</a></h1>
<section id="default-configurations">
<h2>Default Configurations<a class="headerlink" href="#default-configurations" title="Permalink to this heading">¶</a></h2>
<p>The main default configurations are located in the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">sofia_redux/scan/data/configurations</span></code> directory which contain the following
files:</p>
<blockquote>
<div><ul class="simple">
<li><p>default.cfg: The main configuration, loaded on initialization.</p></li>
<li><p>bright.cfg: Configuration updates applied to bright sources.</p></li>
<li><p>deep.cfg: Configuration updates applied for deep reductions.</p></li>
<li><p>faint.cfg: Configuration updates applied to faint sources.</p></li>
<li><p>flatfield.cfg: Configuration updates applied for flat-field reductions.</p></li>
</ul>
</div></blockquote>
<p>Configurations specific to instruments should be stored under
<code class="xref py py-obj docutils literal notranslate"><span class="pre">sofia_redux/scan/data/configurations/</span></code>, and will automatically be
applied after the main default configuration file has been read.</p>
<section id="format">
<h3>Format<a class="headerlink" href="#format" title="Permalink to this heading">¶</a></h3>
<p>Configuration files are parsed using
<a class="reference external" href="https://configobj.readthedocs.io/en/latest/index.html">configobj</a> and
should be formatted accordingly.  The basic structure is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>key_with_bool_true = True
key_with_bool_false = False
key_with_list = 1, 2, 3, 4, 5
key_with_range = 1:5
key_with_list_of_ranges = 1:5, 11:14

[options_a]
    value = foo
    [[sub_options_a]]
        bar = baz
</pre></div>
</div>
<p>Unlike standard configobj parsing, a key may refer to both a sub-branch of the
configuration, and also have a value assigned to it with the ‘value’ key.  For
example, <code class="xref py py-obj docutils literal notranslate"><span class="pre">configuration['options_a']</span> <span class="pre">==</span> <span class="pre">foo</span></code> and
<code class="xref py py-obj docutils literal notranslate"><span class="pre">configuration['options_a.sub_options_a.bar']</span> <span class="pre">==</span> <span class="pre">baz</span></code>.  Note that when
configurations are updated, the structure is updated accordingly so that any
prior values are safely stored.  For example, updating the above configuration
with <code class="xref py py-obj docutils literal notranslate"><span class="pre">options_a.sub_options_a</span> <span class="pre">=</span> <span class="pre">1</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">options_a.sub_options_a.bar.a</span> <span class="pre">=</span> <span class="pre">2</span></code>
would result in:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[options_a]
    value = foo
    [[sub_options_a]]
        value = 1
        [[[bar]]]
            value = baz
            a = 2
</pre></div>
</div>
</section>
<section id="order-and-the-config-command">
<h3>Order and the config command<a class="headerlink" href="#order-and-the-config-command" title="Permalink to this heading">¶</a></h3>
<p>The configuration is read by generally reading the base default file followed
by an immediate update by the instrument configuration.  If the <code class="xref py py-obj docutils literal notranslate"><span class="pre">config</span></code> key
is set to a file in the configuration directory, it will immediately be
parsed before proceeding with the rest of the current configuration.  For
example, reading the HAWC+ instrument proceeds as:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>default.cfg</p></li>
<li><p>hawc_plus/default.cfg: encounters <code class="xref py py-obj docutils literal notranslate"><span class="pre">config</span> <span class="pre">=</span> <span class="pre">sofia/default.cfg</span></code></p></li>
<li><p>sofia/default.cfg</p></li>
<li><p>hawc_plus/default.cfg: continues parsing the rest of the file.</p></li>
</ol>
</div></blockquote>
<p>Note that if instrument specific configurations should be loaded, the
configuration file must exist at:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sofia_redux/scan/data/configurations/&lt;instrument&gt;/default.cfg
</pre></div>
</div>
<p>and should only be referenced in other configurations using
<code class="docutils literal notranslate"><span class="pre">&lt;instrument&gt;/default.cfg</span></code> without the configurations directory prefix.
Full file paths may also be supplied if necessary.</p>
</section>
<section id="conditionals">
<span id="configuration-conditionals"></span><h3>Conditionals<a class="headerlink" href="#conditionals" title="Permalink to this heading">¶</a></h3>
<p>Whenever a configuration file has been read, a configuration validation is
performed to check the configuration conditionals.  Conditionals consist of
a requirement and set of configuration updates or instructions to perform if
that requirement is met.  All conditionals should appear in a configuration
file in the conditionals group:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[conditionals]
    [[requirement]]
        key1 = value1
        key2 = value2
</pre></div>
</div>
<p>A requirement must be of the form</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;key&gt;: requirement is met if the configuration value for &lt;key&gt;
evaluates as True</p></li>
<li><p>&lt;key&gt;&lt;comparison operator&gt;&lt;value&gt;: requirement is met if the
configuration value for key evaluates to True using the
&lt;comparison operator&gt; to check against &lt;value&gt;</p></li>
</ul>
</div></blockquote>
<p>For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[conditionals]
    [[peakflux]]
        scale = 1.18

    [[fits.DIAG_HZ!=-9999]]
        notch.frequencies = {?fits.DIAG_HZ}
</pre></div>
</div>
<p>Would set <code class="xref py py-obj docutils literal notranslate"><span class="pre">scale</span></code> to 1.18 if <code class="xref py py-obj docutils literal notranslate"><span class="pre">peakflux</span></code> was True, and set
<code class="xref py py-obj docutils literal notranslate"><span class="pre">notch.frequencies</span></code> to the value found in the FITS header, so long as it’s not
equal to -9999 (see <a class="reference internal" href="#configuration-aliases"><span class="std std-ref">aliases</span></a>)</p>
</section>
<section id="fits-configuration">
<h3>FITS configuration<a class="headerlink" href="#fits-configuration" title="Permalink to this heading">¶</a></h3>
<p>Once a FITS scan file has been read by the reduction, all of the header
keyword values are accessed from the configuration via <code class="docutils literal notranslate"><span class="pre">fits.&lt;key&gt;</span></code>.</p>
</section>
<section id="date">
<h3>Date<a class="headerlink" href="#date" title="Permalink to this heading">¶</a></h3>
<p>Like conditionals, configuration updates may also occur based on whether the
observation occurs within certain date range:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[date]
    [[2017-05-01--2017-05-18]]
        pointing = -0.1, -9.9

    [[*--2017-10-01]]
        jansky = 18.4
</pre></div>
</div>
<p>Would set the pointing correction if the observation date falls within the
given range.  The sub-heading must be of the form <code class="docutils literal notranslate"><span class="pre">&lt;start&gt;--&lt;end&gt;</span></code> where
&lt;start&gt; or &lt;end&gt; may be test to a YYYY-MM-DD date or ISOT datetime, or * to
indicate an open range.</p>
</section>
<section id="iteration">
<h3>Iteration<a class="headerlink" href="#iteration" title="Permalink to this heading">¶</a></h3>
<p>The configuration may be updated to apply changes based on the current
reduction iteration.  Sub-headings must be in one of the following formats:</p>
<blockquote>
<div><ul class="simple">
<li><p>Integer: Positive numbers check against a definite iteration value with
1 indicating the first iteration.  Negative numbers a relative to the
last iteration with -1 being the final iteration and -2 indicating the
penultimate iteration.</p></li>
<li><p>Float: Applies configuration updates as a rounded decimal fraction of the
total number of iterations.</p></li>
<li><p>Percentage: Applies configuration updates as a rounded percentage of the
total number of iterations.</p></li>
</ul>
</div></blockquote>
<p>For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[iteration]
    [[2]]
        despike.level = 30.0
        clip = 10.0

    [[-3]]
        blacklist = clip

    [[0.8]]
        add = filter.whiten

    [[90%]]
        forget = source.mem
</pre></div>
</div>
</section>
<section id="aliases">
<span id="configuration-aliases"></span><h3>Aliases<a class="headerlink" href="#aliases" title="Permalink to this heading">¶</a></h3>
<p>Configuration keys and values may both be aliased in the configuration.
Aliased keys are generally short-hand ways of writing down a long configuration
path that may need to be frequently referenced and should appear under the
aliases branch:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[aliases]
    sky = correlated.sky
    whiten = filter.whiten
</pre></div>
</div>
<p>The above example would allow the <code class="xref py py-obj docutils literal notranslate"><span class="pre">correlated.sky</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">filter.whiten</span></code> keys
to be referenced with <code class="xref py py-obj docutils literal notranslate"><span class="pre">sky</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">whiten</span></code> throughout the reduction and in all
other configuration files.</p>
<p>Values may also be aliased to point towards the value stored in a different
configuration key.  For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mode = {?fits.INSTCFG}
</pre></div>
</div>
<p>would set the mode key value to whatever value is read from the FITS header
in a scan.  This is important when such values are added to the
configuration when a reduction has already started.</p>
</section>
<section id="commands">
<h3>Commands<a class="headerlink" href="#commands" title="Permalink to this heading">¶</a></h3>
<p>There are several special keys that have special meaning in the
configuration.  These are:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>blacklist :</dt><dd><p>Never allow access to this key for any reason.  It may not
be altered, retrieved, or made visible to the SOFSCAN reduction.  A
blacklisted key should remain so for the entire reduction.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>whitelist :</dt><dd><p>Always allow access to this key and never allow any
modification to its value for the entire reduction.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>forget :</dt><dd><p>Temporarily disable access to this keys value by the SOFSCAN
reduction.  Access may be granted by using the “recall” command.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>recall :</dt><dd><p>Allow access to a previously forgotten key.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>lock :</dt><dd><p>Do not allow any further modifications to they key values or
attributes.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>unlock :</dt><dd><p>Unlock a previously locked key.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>add :</dt><dd><p>Add a key to the configuration.  This will set the value of this
key to “True” when retrieved by the reduction.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>rounds :</dt><dd><p>Set the maximum number of iterations for the SOFSCAN reduction.
The value must be an integer (or reference an integer).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>config :</dt><dd><p>Read and merge the contents of another configuration whose
file path is set as the value.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</section>
</section>
<section id="configuration-glossary">
<span id="scan-glossary"></span><h2>Configuration Glossary<a class="headerlink" href="#configuration-glossary" title="Permalink to this heading">¶</a></h2>
<table class="longtable docutils align-default" id="id6">
<caption><span class="caption-number">Table 33 </span><span class="caption-text">Configuration Keywords</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Keyword</p></th>
<th class="head"><p>Usage in configuration file</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p id="overf-freq"><strong>1overf.freq</strong></p>
</td>
<td><div class="line-block">
<div class="line">[1overf]</div>
<div class="line">freq=&lt;X&gt;</div>
</div>
</td>
<td><p>The target frequency X (Hz) at which the 1/f is measured for logging
global 1/f noise statistics.  The logged quantity is the ratio of the PSD
measured at this frequency to that measured at the reference frequency
<a class="reference internal" href="#overf-ref">1overf.ref</a>.  The actual measurement frequency will always be above the
filter cutoff of <a class="reference internal" href="#drifts">drifts</a> filtering.</p></td>
</tr>
<tr class="row-odd"><td><p id="overf-ref"><strong>1overf.ref</strong></p>
</td>
<td><div class="line-block">
<div class="line">[1overf]</div>
<div class="line">ref=&lt;X&gt;</div>
</div>
</td>
<td><p>The white noise reference frequency X (Hz) used when providing 1/f noise
statistics.  If the value exceeds the Nyquist frequency of the
timestream, then the Nyquist value will be used instead.  See
<a class="reference internal" href="#overf-freq">1overf.freq</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="accel">
<div class="line"><strong>accel</strong></div>
<div class="line">Alias: correlated.accel-mag</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[accel]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>Can be used to enable acceleration response decorrelation, or to set
options for it.  See <a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a> for available options.</p></td>
</tr>
<tr class="row-odd"><td><p id="aclip"><strong>aclip</strong></p>
</td>
<td><p>aclip=&lt;X&gt;</p></td>
<td><p>Clip data when the telescope acceleration is above X arcsec/s^2. Heavy
accelerations can put mechanical energy into the detector system,
changing the shape of the primary, thereby generating bright signals from
the varying illumination of the bright atmosphere. Clipping data when
there is danger of this happening is a good idea.  See <a class="reference internal" href="#accel">accel</a> for
possible modelling of these signals.</p></td>
</tr>
<tr class="row-even"><td><p id="add"><strong>add</strong></p>
</td>
<td><p>add={&lt;key&gt;, &lt;key&gt;=&lt;value&gt;}, …</p></td>
<td><p>Add a key to the configuration.  If only &lt;key&gt; is given, it’s value will
be set to ‘True’.  Multiple keys and values may be added to the
configuration by supplying a comma-separated list.</p></td>
</tr>
<tr class="row-odd"><td><p id="id1"><strong>aliases</strong></p>
</td>
<td><div class="line-block">
<div class="line">[aliases]</div>
<div class="line">&lt;branch1&gt;=&lt;alias1&gt;</div>
<div class="line">&lt;branch2&gt;=&lt;alias2&gt;</div>
<div class="line">…</div>
</div>
</td>
<td><p>The [aliases] section specifies user defined convenient shorthand
notations for configuration keywords.  For example, if one defines the
alias sky=correlated.sky, then sky.gainrange will actually
reference correlated.sky.gainrange for any configuration operation.
Aliases may also reference other aliases, so sg=sky.gainrange would allow
sg to reference correlated.sky.gainrange.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="altaz">
<div class="line"><strong>altaz</strong></div>
<div class="line">Sets: system=horizontal</div>
</div>
</td>
<td><p>altaz={True, False}</p></td>
<td><p>A conditional switch to reduce in Alt/Az coordinates.  See <a class="reference internal" href="#system">system</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="array">
<div class="line"><strong>array</strong></div>
<div class="line">Alias for:  correlated.obs-channels</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[array]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>An alias for all radiation-sensitive channels of the instrument, or set
options for it.  See <a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a> for further details.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="atran-altcoeffs">
<div class="line"><strong>atran.altcoeffs</strong></div>
<div class="line">Instrument: SOFIA</div>
</div>
</td>
<td><p>atran.altcoeffs=&lt;c0&gt;,&lt;c1&gt;,&lt;c2&gt;,…&lt;cN&gt;</p></td>
<td><p>The polynomial coefficients used to determine the altitude factor when
determining the atmospheric transmission correction.  Used to fit for
an altitude relative to 41 kft in units of kft.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="atran-amcoeffs">
<div class="line"><strong>atran.amcoeffs</strong></div>
<div class="line">Instrument: SOFIA</div>
</div>
</td>
<td><p>atran.amcoeffs=&lt;c0&gt;,&lt;c1&gt;,&lt;c2&gt;,…&lt;cN&gt;</p></td>
<td><p>The polynomial coefficients used to determine the air mass factor when
determining the atmospheric transmission correction.  Used to fit for
the air mass relative to sqrt(2) (an elevation of 45 degrees).</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="atran-reference">
<div class="line"><strong>atran.reference</strong></div>
<div class="line">Instrument: SOFIA</div>
</div>
</td>
<td><p>atran.reference=&lt;X&gt;</p></td>
<td><p>The factor (f) used to provide the actual transmission value when
multiplied by the transmission correction value (c).  The
transmission (t) is given as t = f * c where c = am_factor * alt_factor
(see <a class="reference internal" href="#atran-altcoeffs">atran.altcoeffs</a> and <a class="reference internal" href="#atran-amcoeffs">atran.amcoeffs</a>).  The transmission is
related to the opacity (tau) by t = exp(-tau * airmass).</p></td>
</tr>
<tr class="row-odd"><td><p id="beam"><strong>beam</strong></p>
</td>
<td><p>beam=&lt;X&gt;</p></td>
<td><p>Set the instrument beam to X arcseconds.  Also see <a class="reference internal" href="#resolution">resolution</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="beammap">
<div class="line"><strong>beammap</strong></div>
<div class="line">Sets: pixelmap=True</div>
</div>
</td>
<td><p>beammap={True, False}</p></td>
<td><p>A conditional switch that sets <a class="reference internal" href="#pixelmap">pixelmap</a> to True.</p></td>
</tr>
<tr class="row-odd"><td><p id="blacklist"><strong>blacklist</strong></p>
</td>
<td><p>blacklist=&lt;key1&gt;,&lt;key2&gt;,…</p></td>
<td><p>Similar to <a class="reference internal" href="#forget">forget</a>, except it will not set options even if they are
specified at a later time.  This is useful for altogether removing
settings from the configuration.</p></td>
</tr>
<tr class="row-even"><td><p id="blank"><strong>blank</strong></p>
</td>
<td><p>blank=&lt;X&gt;</p></td>
<td><p>Skip data from modelling over points that have a source flux exceeding the
signal-to-noise level X.  This may be useful in reducing the filtering
effect around bright  See <a class="reference internal" href="#clip">clip</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="blind"><strong>blind</strong></p>
</td>
<td><p>blind=&lt;range list&gt;</p></td>
<td><p>Specify a list of blind pixels.  Use data indices and ranges in a
comma-separated form.  Blind channels may be used by some instruments to
estimate instrumental signals, such as temperature fluctuations.
Channels are numbered from 0 (C-style).  See <a class="reference internal" href="#flag">flag</a>.  &lt;range list&gt; is
a comma-separated list of individual channels or channel ranges.  For
example:</p>
<blockquote>
<div><p>blind=10,15:18,33</p>
</div></blockquote>
<p>Would blind channels 10, 15, 16, 17, 18, and 33.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block" id="bright">
<div class="line"><strong>bright</strong></div>
<div class="line">Sets: config=bright.cfg</div>
</div>
</td>
<td><p>bright={True, False}</p></td>
<td><p>Use for bright sources (S/N &gt; ~1000).  This setting entirely bypasses all
filtering to produce a very faithful map.  The drawback is more noise.
See <a class="reference internal" href="#config">config</a>, <a class="reference internal" href="#faint">faint</a>, and <a class="reference internal" href="#deep">deep</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="chopped"><strong>chopped</strong></p>
</td>
<td><p>chopped={True, False}</p></td>
<td><p>Used for specifying a chopped data reduction.  Can be set manually or
automatically based on the data itself.  The key
may trigger conditional statements and extra decorrelation steps.
See <a class="reference internal" href="#correlated-modality-trigger">correlated.&lt;modality&gt;.trigger</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="chopper-invert">
<div class="line"><strong>chopper.invert</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><p>chopper.invert={True, False}</p></td>
<td><p>An option to flip the direction associated with the analog chopper R/S
signals.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="chopper-shift">
<div class="line"><strong>chopper.shift</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><p>chopper.shift=&lt;N&gt;</p></td>
<td><p>Shift the chopper R/S analog signals by N raw frames (sampled at
203.25 Hz), relative to the detector readout to improve synchronization.
See <a class="reference internal" href="#shift">shift</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><strong>chopper.tolerance</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><p>chopper.tolerance=&lt;X&gt;</p></td>
<td><p>Allow setting a tolerance for the chopper position in arcseconds.  If the
actual chopper distance is not within the tolerance from the nominal
chopper amplitude, then the exposure will not be used to avoid smearing.</p></td>
</tr>
<tr class="row-odd"><td><p id="clip"><strong>clip</strong></p>
</td>
<td><p>clip=&lt;X&gt;</p></td>
<td><p>In early generations of the source map, force map pixels with flux below
signal-to-noise level X to zero.   This may help getting lesser
baselines, and filtering artifacts around the brighter peaks.  Often used
together with <a class="reference internal" href="#blank">blank</a> in the intermediate iterations.  See <a class="reference internal" href="#blank">blank</a> and
<a class="reference internal" href="#id4">iteration</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="cols">
<div class="line"><strong>cols</strong></div>
<div class="line">Alias: correlated.cols</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[cols]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>An alias for column based decorrelation of the detector array.  Used to
perform decorrelation, or set decorrelation options.</p></td>
</tr>
<tr class="row-odd"><td><p id="commonwcs"><strong>commonwcs</strong></p>
</td>
<td><p>commonwcs={True, False}</p></td>
<td><p>If the reduction consists of multiple sub-reductions (e.g. a sub
reduction for each HAWC+ subarray), specify that the output map for all
reductions should share a common WCS and equivalent dimensions.</p></td>
</tr>
<tr class="row-even"><td><p id="id2"><strong>conditionals</strong></p>
</td>
<td><div class="line-block">
<div class="line">[conditionals]</div>
<div class="line">[[&lt;requirement&gt;]]</div>
<div class="line">&lt;key1&gt;=&lt;value1&gt;</div>
<div class="line">…</div>
</div>
</td>
<td><p>Used to set configuration values in specific circumstances.  Multiple
key=value settings can be applied under each requirement once that
requirement has been fulfilled.  Requirements should take the form
[[&lt;keyword&gt;]] or [[&lt;keyword&gt;&lt;operator&gt;&lt;value&gt;]].  The first will apply
settings should that keyword be set in the configuration.  The more
complex alternative involves comparing one configuration keyword value
with another in the requirement, and apply all settings if evaluated as
true.  &lt;operator&gt; can be one of =, !=, &lt;, &lt;=, &gt;, or &gt;=.</p></td>
</tr>
<tr class="row-odd"><td><p id="config"><strong>config</strong></p>
</td>
<td><p>config=&lt;filename&gt;</p></td>
<td><p>Load a configuration file filename.  Files are looked for in the
following order from lowest to highest priority in the
sofia_scan/scan/data/configurations folder (&lt;c&gt;) and a optional user
configuration directory (~/.sofscan):</p>
<ol class="arabic simple">
<li><p>&lt;c&gt;/&lt;filename&gt;</p></li>
<li><p>~/.sofscan/&lt;filename&gt;</p></li>
<li><p>&lt;c&gt;/&lt;instrument&gt;/&lt;filename&gt;</p></li>
<li><p>~/.sofscan/&lt;instrument&gt;/&lt;filename&gt;</p></li>
</ol>
<p>Whenever a matching file is found, its contents are parsed.  Because of
the ordering, it is convenient to create overriding configurations.  Each
successively loaded file may override the options set before it.
See <a class="reference internal" href="#bright">bright</a>, <a class="reference internal" href="#faint">faint</a>, and <a class="reference internal" href="#deep">deep</a>.</p>
</td>
</tr>
<tr class="row-even"><td><p id="correlated-modality"><strong>correlated.&lt;modality&gt;</strong></p>
</td>
<td><div class="line-block">
<div class="line">[correlated]</div>
<div class="line">[[&lt;modality&gt;]]</div>
<div class="line">&lt;key&gt;=&lt;value&gt;</div>
<div class="line">…</div>
</div>
</td>
<td><p>Remove the correlated noise term across the entire array where &lt;modality&gt;
is the name of the modality on which decorrelation is performed.  E.g.
‘obs-channels’ or ‘gradients’.  This is an effective way of dealing with
most atmospheric and instrumental signals, such as sky noise, ground
pickup, temperature fluctuations, electromagnetic or microphonic pickups.
The decorrelation of each modality can be further controlled by a number
of &lt;key&gt;=&lt;value&gt; settings (see below).  The given decorrelation step must
also appear in the pipeline <a class="reference internal" href="#ordering">ordering</a> before it can be used.  See
<a class="reference internal" href="#division-name">division.&lt;name&gt;</a> and <a class="reference internal" href="#ordering">ordering</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="correlated-modality-gainrange"><strong>correlated.&lt;modality&gt;. gainrange</strong></p>
</td>
<td><div class="line-block">
<div class="line">[correlated]</div>
<div class="line">[[&lt;modality&gt;]]</div>
<div class="line">gainrange=&lt;min&gt;:&lt;max&gt;</div>
</div>
</td>
<td><p>Specify a range of acceptable gains to the given correlated signal
&lt;modality&gt;, relative to the average gain response of the correlated mode.
Channels that exhibit responses outside of this range will be
appropriately flagged in the reduction, and ignored in the modelling
steps until the flag is revised and cleared in another decorrelation
step.  See <a class="reference internal" href="#division-name-gainflag">division.&lt;name&gt;.gainflag</a> and
<a class="reference internal" href="#correlated-modality-signed">correlated.&lt;modality&gt;.signed</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="correlated-modality-nofield"><strong>correlated.&lt;modality&gt;. nofield</strong></p>
</td>
<td><div class="line-block">
<div class="line">[correlated]</div>
<div class="line">[[&lt;modality&gt;]]</div>
<div class="line">nofield={True, False}</div>
</div>
</td>
<td><p>Allow decoupling of the gains of the correlated mode from the gain fields
stored under the channel (initialized from the file specified by
<a class="reference internal" href="#pixeldata">pixeldata</a>).  See <a class="reference internal" href="#pixeldata">pixeldata</a> and <a class="reference internal" href="#source-fixedgains">source.fixedgains</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="correlated-modality-nogains"><strong>correlated.&lt;modality&gt;. nogains</strong></p>
</td>
<td><div class="line-block">
<div class="line">[correlated]</div>
<div class="line">[[&lt;modality&gt;]]</div>
<div class="line">nogains={True, False}</div>
</div>
</td>
<td><p>Disable the solving of gains (i.e. channel responses) to the correlated
signal &lt;modality&gt;.</p></td>
</tr>
<tr class="row-even"><td><p id="correlated-modality-nosignals"><strong>correlated.&lt;modality&gt;. nosignals</strong></p>
</td>
<td><div class="line-block">
<div class="line">[correlated]</div>
<div class="line">[[&lt;modality&gt;]]</div>
<div class="line">nosignals={True, False}</div>
</div>
</td>
<td><p>Disable solving for the correlated signal &lt;modality&gt; whose value stays
fixed.</p></td>
</tr>
<tr class="row-odd"><td><p id="correlated-modality-phases"><strong>correlated.&lt;modality&gt;. phases</strong></p>
</td>
<td><div class="line-block">
<div class="line">[correlated]</div>
<div class="line">[[&lt;modality&gt;]]</div>
<div class="line">phases={True, False}</div>
</div>
</td>
<td><p>Decorrelate the phase data (e.g. for chopped photometry scans) together
with the fast samples.  The same gains are used as for the usual
decorrelation on the fast samples.</p></td>
</tr>
<tr class="row-even"><td><p id="correlated-modality-phasegains"><strong>correlated.&lt;modality&gt;. phasegains</strong></p>
</td>
<td><div class="line-block">
<div class="line">[correlated]</div>
<div class="line">[[&lt;modality&gt;]]</div>
<div class="line">phasegains={True, False}</div>
</div>
</td>
<td><p>Determine the gains from the phase data, rather than from the correlated
fast samples.  You can also set this globally for all correlated
modalities/modes using the <a class="reference internal" href="#phasegains">phasegains</a> keyword.  See <a class="reference internal" href="#phasegains">phasegains</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="correlated-modality-resolution"><strong>correlated.&lt;modality&gt;. resolution</strong></p>
</td>
<td><div class="line-block">
<div class="line">[correlated]</div>
<div class="line">[[&lt;modality&gt;]]</div>
<div class="line">resolution=&lt;X&gt;</div>
</div>
</td>
<td><p>Set the time resolution (in seconds) for the decorrelation of &lt;modality&gt;.
When dealing with 1/f-type signals, you probably want to set this to the
1/f knee time-scale or below if you want optimal sensitivities.  Else,
you may want to try larger values if you want to recover more large-scale
emission and are not too worried about the loss of sensitivity.  See
<a class="reference internal" href="#extended">extended</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="correlated-modality-signed"><strong>correlated.&lt;modality&gt;. signed</strong></p>
</td>
<td><div class="line-block">
<div class="line">[correlated]</div>
<div class="line">[[&lt;modality&gt;]]</div>
<div class="line">signed={True, False}</div>
</div>
</td>
<td><p>by default, gain responses are allowed to be bidirectional, and flagging
affects only those channels or pixels, where absolute gain values fall
outside of the specified range.  When ‘signed’ is set, the gains are
flagged with the signs also taken into account.  I.e., under ‘signed’,
‘gainrange’ or ‘0.3:3.0’ would flag pixels with a gain of -0.8, whereas
the default behaviour is to tolerate them.  See
<a class="reference internal" href="#correlated-modality-gainrange">correlated.&lt;modality&gt;.gainrange</a> and <a class="reference internal" href="#correlated-modality-nogains">correlated.&lt;modality&gt;.nogains</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="correlated-modality-span"><strong>correlated.&lt;modality&gt;. span</strong></p>
</td>
<td><div class="line-block">
<div class="line">[correlated]</div>
<div class="line">[[&lt;modality&gt;]]</div>
<div class="line">span={True, False}</div>
</div>
</td>
<td><p>Make the gains of the correlated modality span scans instead of
integrations (subscans).  You can also set this option for all correlated
modalities at once using the <a class="reference internal" href="#gains-span">gains.span</a> key.</p></td>
</tr>
<tr class="row-even"><td><p id="correlated-modality-trigger"><strong>correlated.&lt;modality&gt;. trigger</strong></p>
</td>
<td><div class="line-block">
<div class="line">[correlated]</div>
<div class="line">[[&lt;modality&gt;]]</div>
<div class="line">trigger=&lt;requirement&gt;</div>
</div>
</td>
<td><p>You can specify a configuration key that is to serve as a trigger for
activating the decorrelation of &lt;modality&gt;.  This is used, for example,
to activate the decorrelation of chopper signals, if and when the
<a class="reference internal" href="#chopped">chopped</a> keyword is specified.  &lt;requirement&gt; may take the form &lt;key&gt;
or &lt;key&gt;&lt;operator&gt;&lt;value&gt;.  If a single &lt;key&gt; is specified, the trigger
will activate if the retrieved value from the configuration evaluates to
True.  Otherwise &lt;operator&gt; (!=, =, &lt;, &lt;=, &gt;, &gt;=) may be used to check
a value in the configuration against &lt;value&gt;.</p></td>
</tr>
<tr class="row-odd"><td><p id="correlated"><strong>correlated.&lt;*&gt;</strong></p>
</td>
<td><p>correlated.*.gainrange=0.3:3.0</p></td>
<td><p>You can use wildcards ‘*’ to set options for all decorrelation steps at
once.  The above example sets the <a class="reference internal" href="#correlated-modality-gainrange">correlated.&lt;modality&gt;.gainrange</a>
value for all currently defined branches (and modalities) to 0.3:3.</p></td>
</tr>
<tr class="row-even"><td><p id="crushbugs"><strong>crushbugs</strong></p>
</td>
<td><p>crushbugs={True, False}</p></td>
<td><p>Allow SOFSCAN to replicate some of the most prominent bugs found in the
original CRUSH.  These bugs currently include:</p>
<ol class="arabic simple">
<li><p>Double adding of frame (time) dependents for FFT fixed filters
(see <a class="reference internal" href="#filter">filter</a>).</p></li>
<li><p>Adding frame (time) dependents N times rather than once during
integration syncing with the source model, where N is the number of
channels.</p></li>
</ol>
<p>The above issues become noticeable after many iterations (see <a class="reference internal" href="#rounds">rounds</a>)
since the fraction by which dependents change are usually very small.
However, after a while you may notice some data being flagged
unnecessarily.  There is a significant bug that has not been covered by
<a class="reference internal" href="#crushbugs">crushbugs</a> in which the real and imaginary interleaved FFT spectrum
(realf0, imagf0, realf1, imagf1, realf2…), as determined by the <a class="reference internal" href="#filter">filter</a>
step, is subtracted from the timestream in addition to it’s inverse
transform (correct method of removal).</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="darkcorrect">
<div class="line"><strong>darkcorrect</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><p>darkcorrect={True,False}</p></td>
<td><p>Whether to perform the squid dark correction for blind channels.
Otherwise, all blind channels will be flagged as dead.</p></td>
</tr>
<tr class="row-even"><td><p id="datapath"><strong>datapath</strong></p>
</td>
<td><p>datapath=&lt;directory&gt;</p></td>
<td><p>Look for raw data to reduce in the directory &lt;directory&gt;.</p></td>
</tr>
<tr class="row-odd"><td><p id="dataunit"><strong>dataunit</strong></p>
</td>
<td><p>dataunit=&lt;name&gt;</p></td>
<td><p>Specify the units in which the data are stored.  Typically, ‘counts’ or
‘V’, or any of their common multiples such as ‘mV’, ‘uV’ or astropy.units
unit types are accepted.  The conversion from data units to Jansky-based
units is set via the <a class="reference internal" href="#jansky">jansky</a> option, while the choice of units in the
data reduction is set be <a class="reference internal" href="#unit">unit</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="id3"><strong>date</strong></p>
</td>
<td><div class="line-block">
<div class="line">[date]</div>
<div class="line">[[&lt;start&gt;–&lt;end&gt;]]</div>
<div class="line">&lt;key&gt;=&lt;value&gt;</div>
<div class="line">…</div>
</div>
</td>
<td><p>A way to set date specific conditional statements.  &lt;start&gt; and &lt;end&gt;
can be specified as ISOT strings or float MJD values, both in the UTC
scale.  Wildcards (‘*’) may also be used to unbound the start or end
time.  E.g.:</p>
<div class="line-block">
<div class="line">[date]</div>
<div class="line">[[2021-12-14T10:00:00–<code class="xref py py-obj docutils literal notranslate"><span class="pre">*</span></code>]]</div>
<div class="line">instrument.gain=-1000</div>
<div class="line">chopped=True</div>
</div>
<p>would set the instrument gain to -1000, and indicate chopped observations
for any time after 10:00 UTC on December 12, 2021.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="deep">
<div class="line"><strong>deep</strong></div>
<div class="line">Sets: config=deep.cfg</div>
</div>
</td>
<td><p>deep={True, False}</p></td>
<td><p>Use for very faint sources which are not all detected in single scans, or
if you think there is too much residual noise (baselines) in the map.
This setting results in the most aggressive filtering and will load the
configuration from ‘deep.cfg’.  The output map is optimally filtered
(smoothed) for point sources.  See <a class="reference internal" href="#config">config</a>, <a class="reference internal" href="#bright">bright</a>, and <a class="reference internal" href="#faint">faint</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="dejump"><strong>dejump</strong></p>
</td>
<td><div class="line-block">
<div class="line">[dejump]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>Used to specify options for the ‘dejump’ task which identifies places in
the data stream where detectors jump together (especially SQUIDs under a
transient B-field fluctuation) by the perceived increase in residual
detector noise.  Sub-settings are <a class="reference internal" href="#dejump-level">dejump.level</a> and
<a class="reference internal" href="#dejump-minlength">dejump.minlength</a>.  This will only occur if ‘dejump’ appears in
<a class="reference internal" href="#ordering">ordering</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="dejump-level"><strong>dejump.level</strong></p>
</td>
<td><p>dejump.level=&lt;X&gt;</p></td>
<td><p>The relative noise level at which jumps are identified.  The value should
be strictly greater than 1, with 2.0 being a safe starting point.  Change
with extreme caution, if at all.  See <a class="reference internal" href="#dejump">dejump</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="dejump-minlength"><strong>dejump.minlength</strong></p>
</td>
<td><p>dejump.minlength=&lt;X&gt;</p></td>
<td><p>The minimum length (in seconds) of a coincident detector jump that is
kept alive in the data.  Jumps longer than this threshold will be
re-levelled, wheras shorted jumps will be flagged out entirely.  See
<a class="reference internal" href="#dejump">dejump</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="derive">
<div class="line"><strong>derive</strong></div>
<div class="line">Sets:</div>
<div class="line">forget = pixeldata, vclip, aclip</div>
<div class="line">blacklist = whiten</div>
<div class="line">write.pixeldata = True</div>
<div class="line">rounds = 30</div>
</div>
</td>
<td><p>derive={True, False}</p></td>
<td><p>A conditional switch which when activated will perform a reduction
suitable for deriving pixel data.  See <a class="reference internal" href="#write-pixeldata">write.pixeldata</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="despike"><strong>despike</strong></p>
</td>
<td><div class="line-block">
<div class="line">[despike]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>Used to define despiking options.  SOFSCAN allows the use of up to three
different spiking steps, each configurable on its own.  In order to be
enabled, ‘despike’ must be specified in <a class="reference internal" href="#ordering">ordering</a>.  To specify a
despiking method, S/N levels and flagging criteria, please see the
various despiking options below.</p></td>
</tr>
<tr class="row-odd"><td><p id="despike-blocks"><strong>despike.blocks</strong></p>
</td>
<td><p>despike.blocks={True, False}</p></td>
<td><p>Flag out an entire ‘drifts’ block of data around any spikes found.  This
is probably an overkill in most cases, but may be useful if spikes are
due to discontinuities (jumps) in individual detectors.  See <a class="reference internal" href="#drifts">drifts</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="despike-flagcount"><strong>despike.flagcount</strong></p>
</td>
<td><p>despike.flagcount=&lt;N&gt;</p></td>
<td><p>Tolerate (without pixel flagging) up to N spikes in each pixel.</p></td>
</tr>
<tr class="row-odd"><td><p id="despike-flagfraction"><strong>despike.flagfraction</strong></p>
</td>
<td><p>dispike.flagfraction=&lt;X&gt;</p></td>
<td><p>Tolerate (without pixel flagging) spikes up to fraction X of the scan
frames in each channel.</p></td>
</tr>
<tr class="row-even"><td><p id="despike-framespikes"><strong>despike.framespikes</strong></p>
</td>
<td><p>despike.framespikes=&lt;N&gt;</p></td>
<td><p>Tolerate up to N spikes per frame.</p></td>
</tr>
<tr class="row-odd"><td><p id="despike-level"><strong>despike.level</strong></p>
</td>
<td><p>despike.level=&lt;X&gt;</p></td>
<td><p>Despike at an S/N level of X.</p></td>
</tr>
<tr class="row-even"><td><p id="despike-method"><strong>despike.method</strong></p>
</td>
<td><p>despike.method=&lt;name&gt;</p></td>
<td><p>SOFSCAN offsets a choice of despiking methods to choose from.  Each of
these have their own pros and cons, and may produce different results and
side effects in different environments.  The following methods are
currently available:</p>
<ul class="simple">
<li><p><em>neighbours</em>: Despike by comparing neighbouring samples of data from
the same channel.</p></li>
<li><p><em>absolute</em>: Flag data that deviates by the specified S/N level
(<a class="reference internal" href="#despike-level">despike.level</a>).</p></li>
<li><p><em>gradual</em>: Like <em>absolute</em> but proceeds more cautiously, removing only
a fraction of the most offending spikes at each turn.</p></li>
<li><p><em>multires</em>: Look for spikes wider than just a single sample.</p></li>
</ul>
<p>All methods will flag pixels and frames if these have too many spikes.
The flagging of spiky channels and frames is controlled by the
<a class="reference internal" href="#despike-flagcount">despike.flagcount</a>, <a class="reference internal" href="#despike-flagfraction">despike.flagfraction</a>, and <a class="reference internal" href="#despike-framespikes">despike.framespikes</a>
keys.</p>
</td>
</tr>
<tr class="row-odd"><td><p id="division-name"><strong>division.&lt;name&gt;</strong></p>
</td>
<td><div class="line-block">
<div class="line">[division]</div>
<div class="line">[[&lt;name&gt;]]</div>
<div class="line">value=&lt;group1&gt;,&lt;group2&gt;,…</div>
</div>
</td>
<td><p>An option to specify user-defined channel divisions containing specific
channel groups.  This may be useful when creating a new modality.  All
named groups must be available in the reduction in order to be included
in the &lt;name&gt; division.  A channel division contains all channel groups
relating to a modality of the same name.  See <a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a>,
<a class="reference internal" href="#division-name-gainfield">division.&lt;name&gt;.gainfield</a>, <a class="reference internal" href="#division-name-gainflag">division.&lt;name&gt;.gainflag</a>,
<a class="reference internal" href="#division-name-id">division.&lt;name&gt;.id</a>, and <a class="reference internal" href="#group">group</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="division-name-gainfield"><strong>division.&lt;name&gt;.gainfield</strong></p>
</td>
<td><div class="line-block">
<div class="line">[division]</div>
<div class="line">[[&lt;name&gt;]]</div>
<div class="line">gainfield=&lt;attribute&gt;</div>
</div>
</td>
<td><p>Specify which attribute of the channel data such as ‘coupling’ or
‘nonlinearity’ should be used to provide gain values for the correlated
modality &lt;name&gt;.  See <a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a> and <a class="reference internal" href="#division-name">division.&lt;name&gt;</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="division-name-gainflag"><strong>division.&lt;name&gt;.gainflag</strong></p>
</td>
<td><div class="line-block">
<div class="line">[division]</div>
<div class="line">[[&lt;name&gt;]]</div>
<div class="line">gainflag={&lt;N&gt;, &lt;flag&gt;}</div>
</div>
</td>
<td><p>Set the gain flag used for flagging out-of-range gain values for the
correlated modality &lt;name&gt;.  An integer (&lt;N&gt;) or flag name (&lt;flag&gt;) may
be specified.  Take care if using an integer to ensure its value matches
the desired flag.  If not specified, the default is ‘GAIN’.</p></td>
</tr>
<tr class="row-even"><td><p id="division-name-id"><strong>division.&lt;name&gt;.id</strong></p>
</td>
<td><div class="line-block">
<div class="line">[division]</div>
<div class="line">[[&lt;name&gt;]]</div>
<div class="line">id=&lt;ID&gt;</div>
</div>
</td>
<td><p>Specify a shorthand ID for the modality &lt;name&gt;.  This is usually a
two-letter abbreviation of &lt;name&gt;.  If not supplied, defaults to &lt;name&gt;.</p></td>
</tr>
<tr class="row-odd"><td><p id="downsample"><strong>downsample</strong></p>
</td>
<td><p>downsample={N, auto}</p></td>
<td><p>Downsample the data by a factor of N.  At times the raw data is sampled
at unnecessarily high frequencies.  By downsampling, you can ease the
memory requirement and speed up the reduction.  You can also set the
value to ‘auto’ (default), in which case an optimal downsampling rate is
determined based on the typical scanning speeds so that the loss of
information will be insignificant due to unintended smearing of the data.</p></td>
</tr>
<tr class="row-even"><td><p id="drifts"><strong>drifts</strong></p>
</td>
<td><p>drifts={X, max, auto}</p></td>
<td><p>Filter low frequencies below the characteristic timescale of X seconds as
an effective way of dealing with 1/f noise.  You can also use ‘auto’
to determine the filtering timescales automatically, based on
<a class="reference internal" href="#sourcesize">sourcesize</a>, scanning speeds and instrument <a class="reference internal" href="#stability">stability</a> time-scales.  The
‘max’ value is also accepted, producing results identical to that of
<a class="reference internal" href="#offsets">offsets</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="ecliptic">
<div class="line"><strong>ecliptic</strong></div>
<div class="line">Sets: system=ecliptic</div>
</div>
</td>
<td><p>ecliptic={True, False}</p></td>
<td><p>Reduce using ecliptic coordinates (for mapping).</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="equatorial">
<div class="line"><strong>equatorial</strong></div>
<div class="line">Sets: system=equatorial</div>
</div>
</td>
<td><p>equatorial={True, False}</p></td>
<td><p>Reduce using equatorial coordinates (for mapping).</p></td>
</tr>
<tr class="row-odd"><td><p id="estimator"><strong>estimator</strong></p>
</td>
<td><p>estimator={median, maximum-likelihood}</p></td>
<td><p>The estimator to use in deriving signal models.  ‘median’ estimators are
less sensitive to the presence of bright sources in the data, therefore
it is the default for when <a class="reference internal" href="#bright">bright</a> is specified (see ‘bright.cfg’).
When medians are used, the corresponding models are reported on the log
output in square brackets ([]).  See <a class="reference internal" href="#gains-estimator">gains.estimator</a> and
<a class="reference internal" href="#weighting-method">weighting.method</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="exposureclip"><strong>exposureclip</strong></p>
</td>
<td><p>exposureclip=&lt;X&gt;</p></td>
<td><p>Flag (clip) map pixels whose relative time coverage is less than the
specified value X.  This is helpful for discarding the underexposed noisy
edges of the map.  See <a class="reference internal" href="#noiseclip">noiseclip</a> and <a class="reference internal" href="#clip">clip</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="extended"><strong>extended</strong></p>
</td>
<td><p>extended={True, False}</p></td>
<td><p>Try to better preserve extended structures.  This setting can be used
alone or in combination with brightness options.  For bright structures
recovery up to FOV (or beyond) should be possible.  Faint structures
~1/4 FOV to ~FOV scales are maximally obtainable.  See <a class="reference internal" href="#sourcesize">sourcesize</a>,
<a class="reference internal" href="#bright">bright</a>, <a class="reference internal" href="#faint">faint</a>, and <a class="reference internal" href="#deep">deep</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="faint">
<div class="line"><strong>faint</strong></div>
<div class="line">Sets: config=faint.cfg</div>
</div>
</td>
<td><p>faint={True, False}</p></td>
<td><p>Use with faint sources (S/N &lt; ~30) when the source is faint but still
visible in a single scan.  This setting applies some more aggressive
filtering of the timestreams, and extended structures.  It will result
in applying the configuration settings found in ‘faint.cfg’.  See <a class="reference internal" href="#bright">bright</a>
and <a class="reference internal" href="#deep">deep</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="fifi-ls-insert-source"><strong>fifi_ls.insert_source</strong></p>
</td>
<td><div class="line-block">
<div class="line">[fifi_ls]</div>
<div class="line">insert_source={True, False}</div>
</div>
</td>
<td><p>Used in conjunction with <a class="reference internal" href="#fifi-ls-resample">fifi_ls.resample</a>.  If True, the source
model is injected back into the irregular frame data.  If False, the
detected correlations and drifts are removed from the original frame
data.  If using a filter, it is advisable to set this parameter to
True, as the filtered signals cannot be removed from the original data.</p></td>
</tr>
<tr class="row-even"><td><p id="fifi-ls-resample"><strong>fifi_ls.resample</strong></p>
</td>
<td><div class="line-block">
<div class="line">[fifi_ls]</div>
<div class="line">resample={True, False}</div>
</div>
</td>
<td><p>If set to True, and reducing FIFI-LS data, instructs the reduction to
perform a few additional steps post-reduction.  This is to set the
irregular frame data to a state where it can then be manually passed
into a more robust resampler to generate a final output map, rather
than using the default nearest neighbor method.  Please see
<a class="reference internal" href="#fifi-ls-insert-source">fifi_ls.insert_source</a> for more details.</p></td>
</tr>
<tr class="row-odd"><td><p id="fifi-ls-uncorrected"><strong>fifi_ls.uncorrected</strong></p>
</td>
<td><div class="line-block">
<div class="line">[fifi_ls]</div>
<div class="line">uncorrected={True, False}</div>
</div>
</td>
<td><p>If set to True, and reducing FIFI-LS data, instructs the reduction to
use the uncorrected wavelength, data, and error values present in the
UNCORRECTED_LAMBDA, UNCORRECTED_FLUX, and UNCORRECTED_STDDEV HDUs rather
than the LAMBDA, FLUX, and STDDEV HDUs.</p></td>
</tr>
<tr class="row-even"><td><p id="fillgaps"><strong>fillgaps</strong></p>
</td>
<td><p>fillgaps={True, False}</p></td>
<td><p>Fill any gaps in the timestream data with empty frames so that time
windows in the reduction work as expected and that no surprise
discontinuities can cause real trouble.</p></td>
</tr>
<tr class="row-odd"><td><p id="filter"><strong>filter</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Activate spectral filtering of timestreams.  The filter components are
set by <a class="reference internal" href="#filter-ordering">filter.ordering</a> and can be configured and activated separately.
See <a class="reference internal" href="#crushbugs">crushbugs</a>, <a class="reference internal" href="#filter-ordering">filter.ordering</a>, <a class="reference internal" href="#filter-motion">filter.motion</a>, <a class="reference internal" href="#filter-kill">filter.kill</a>,
and <a class="reference internal" href="#filter-whiten">filter.whiten</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="filter-kill"><strong>filter.kill</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[kill]]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Allows completely quenching certain frequencies in the timestream data.
To activate, both this option and the <a class="reference internal" href="#filter">filter</a> umbrella option must
evaluate as True.  The bands of the kill-filter are set by
<a class="reference internal" href="#filter-kill-bands">filter.kill.bands</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="filter-kill-bands"><strong>filter.kill.bands</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[kill]]</div>
<div class="line">bands=&lt;f1&gt;:&lt;f2&gt;, &lt;f3&gt;:&lt;f4&gt;, …</div>
</div>
</td>
<td><p>Provide a comma-separated list of frequency ranges (Hz) that are to be
quenched by the kill filter.  E.g.:</p>
<blockquote>
<div><p>filter.kill.bands=0.35:0.37,9.8:10.2.</p>
</div></blockquote>
<p>See <a class="reference internal" href="#filter">filter</a> and <a class="reference internal" href="#filter-kill">filter.kill</a>.</p>
</td>
</tr>
<tr class="row-even"><td><p id="filter-motion"><strong>filter.motion</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[motion]]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>The (typically) periodic motion of the scanning can induce vibrations in
the telescope and instrument.  Since these signals will be in sync with
the scanning motion, they will produce definite mapping artifacts (e.g.
broad pixels near the map edges).  The motion filter lets you perform
spectral filtering on those frequencies where most of the scanning motion
is concentrated.  To activate, bot this option and the <a class="reference internal" href="#filter">filter</a> umbrella
options must be set.  The identification of rejected motion frequencies
is controlled by the <a class="reference internal" href="#filter-motion-s2n">filter.motion.s2n</a> <a class="reference internal" href="#filter-motion-above">filter.motion.above</a>, and
<a class="reference internal" href="#filter-motion-range">filter.motion.range</a> sub-keys.</p></td>
</tr>
<tr class="row-odd"><td><p id="filter-motion-above"><strong>filter.motion.above</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[motion]]</div>
<div class="line">above=X</div>
</div>
</td>
<td><p>The fraction, relative to the peak spectral component of the scanning
motion, above which to filter motion.  E.g.:</p>
<blockquote>
<div><p>filter.motion.above=0.1</p>
</div></blockquote>
<p>will identify components that are at least 10% of the main component
amplitude.  See <a class="reference internal" href="#filter-motion">filter.motion</a>, <a class="reference internal" href="#filter-motion-s2n">filter.motion.s2n</a>, and
<a class="reference internal" href="#filter-motion-range">filter.motion.range</a>.</p>
</td>
</tr>
<tr class="row-even"><td><p id="filter-motion-harmonics"><strong>filter.motion.harmonics</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[motion]]</div>
<div class="line">harmonics=&lt;N&gt;</div>
</div>
</td>
<td><p>Kill not just the dominant motion frequencies, but also up to N harmonics
of these.  This may be useful when the motion response is non-linear.
Otherwise, it’s an overkill.  See <a class="reference internal" href="#filter-motion-odd">filter.motion.odd</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="filter-motion-odd"><strong>filter.motion.odd</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[motion]]</div>
<div class="line">odd={True, False}</div>
</div>
</td>
<td><p>When set, together with the <a class="reference internal" href="#filter-motion-harmonics">filter.motion.harmonics</a> setting, this
option instructs SOFSCAN to restrict the motion filter to the odd
harmonics only of the principle frequencies of the scanning motion.
See <a class="reference internal" href="#filter-motion-harmonics">filter.motion.harmonics</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="filter-motion-range"><strong>filter.motion.range</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[motion]]</div>
<div class="line">range=&lt;min&gt;:&lt;max&gt;</div>
</div>
</td>
<td><p>Set the frequency range (Hz) in which the motion filter operates.  See
<a class="reference internal" href="#filter-motion">filter.motion</a>, <a class="reference internal" href="#filter-motion-above">filter.motion.above</a>, and <a class="reference internal" href="#filter-motion-s2n">filter.motion.s2n</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="filter-motion-s2n"><strong>filter.motion.s2n</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[motion]]</div>
<div class="line">s2n=&lt;X&gt;</div>
</div>
</td>
<td><p>The minimum significance of the motion spectral component to be
considered for filtering.  See <a class="reference internal" href="#filter-motion">filter.motion</a>, <a class="reference internal" href="#filter-motion-above">filter.motion.above</a>,
and <a class="reference internal" href="#filter-motion-range">filter.motion.range</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="filter-motion-stability"><strong>filter.motion.stability</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[motion]]</div>
<div class="line">stability=&lt;X&gt;</div>
</div>
</td>
<td><p>Define a stability timescale (seconds) for the motion response.  When not
set, it is assumed that the detectors respond to the same amount to the
vibrations induced by the scanning motion during the entire duration of a
scan.  If a timescale shorter than the scan length is set, then the
filtering will become more aggressive to incorporate the AM modulation of
detector signals on timescales shorter than this stability value.  See
<a class="reference internal" href="#filter-motion-range">filter.motion.range</a> and <a class="reference internal" href="#filter-motion-stability">filter.motion.stability</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="filter-mrproper"><strong>filter.mrproper</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">mrproper={True, False}</div>
</div>
</td>
<td><p>Enables the explicit re-levelling of the filtered signal.  In practice,
the re-levelling is unlikely to significantly improve the filter’s
effectiveness.  At the same time, it does slow it down somewhat, which is
why it is off by default.</p></td>
</tr>
<tr class="row-even"><td><p id="filter-ordering"><strong>filter.ordering</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">ordering=&lt;filter1&gt;,&lt;filter2&gt;,…</div>
</div>
</td>
<td><p>A comma-separated list of spectral filters, in the order they are to be
applied.  The default is ‘motion, kill, whiten’ which firstly applies the
motion filter, then kills specified spectral bands, and finally applies
noise whitening on the remainder.  Each of the components can be
controlled separately with the appropriate sub-keys of <a class="reference internal" href="#filter">filter</a> with the
same names.  See <a class="reference internal" href="#filter-motion">filter.motion</a>, <a class="reference internal" href="#filter-whiten">filter.whiten</a>, and <a class="reference internal" href="#filter-kill">filter.kill</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="filter-whiten"><strong>filter.whiten</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[whiten]]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Use a noise whitening algorithm.  White noise assures that the noise in
the map is independent pixel-to=pixel.  Otherwise noise may be correlated
on specific scales.  Whitening is also useful to get rid of any signals
(still) not modelled by other reduction steps.  It should always be a
last resort only, as the modeling of signals is generally preferred.  To
activate, both this option and the <a class="reference internal" href="#filter">filter</a> umbrella option must evaluate
to True.  See <a class="reference internal" href="#filter">filter</a>, <a class="reference internal" href="#whiten">whiten</a>, <a class="reference internal" href="#filter-whiten-level">filter.whiten.level</a>,
<a class="reference internal" href="#filter-whiten-minchannels">filter.whiten.minchannels</a>, and <a class="reference internal" href="#filter-whiten-proberange">filter.whiten.proberange</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="filter-whiten-level"><strong>filter.whiten.level</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[whiten]]</div>
<div class="line">level=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify the noise whitening level at X times the average (median)
spectral noise level.  Spectral channels that have noise in excess of the
critical level will be appropriately filtered to bring them back in line.
Value clearly above 1 are recommended, and typically values around
1.5-2 are useful without over filtering.  See <a class="reference internal" href="#filter-whiten">filter.whiten</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="filter-whiten-minchannels"><strong>filter.whiten.minchannels</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[whiten]]</div>
<div class="line">minchannels=&lt;N&gt;</div>
</div>
</td>
<td><p>Make sure that at least N channels are used for estimating the white
noise levels, even if the specified probe range is smaller of falls
outside of the available spectrum.  In such cases, SOFSCAN will
automatically expand the requested range to include at least N spectral
channels, or as many as possible if the spectral range itself is too
small.  See <a class="reference internal" href="#filter-whiten">filter.whiten</a> and <a class="reference internal" href="#filter-whiten-proberange">filter.whiten.proberange</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="filter-whiten-proberange"><strong>filter.whiten.proberange</strong></p>
</td>
<td><div class="line-block">
<div class="line">[filter]</div>
<div class="line">[[whiten]]</div>
<div class="line">proberange={&lt;from&gt;:&lt;to&gt;, auto}</div>
</div>
</td>
<td><p>Specify the spectral range (Hz) in which to measure the white noise level
before whitening.  It is best to use the truly flat part of the available
spectral range where no 1/f, resonances, or lowpass roll-off are present.
Wildcards (‘*’) can be used for specifying open ranges.  ‘auto` can be
used to automatically adjust the probing range to the upper part of the
spectrum occupied by point sources.  See <a class="reference internal" href="#filter-whiten">filter.whiten</a> and
<a class="reference internal" href="#filter-whiten-minchannels">filter.whiten.minchannels</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="final">
<div class="line"><strong>final</strong></div>
<div class="line">Alias: iteration.-1</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[final]</div>
<div class="line">&lt;key&gt;=&lt;value&gt;</div>
<div class="line">…</div>
</div>
</td>
<td><p>An alias for settings to be applied on the last iteration.  See <a class="reference internal" href="#last">last</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="fits-key"><strong>fits.&lt;key&gt;</strong></p>
</td>
<td><p>&lt;configuration_key&gt;={?fits.&lt;key&gt;}</p></td>
<td><p>A way to reference FITS header keyword values from the configuration.
For example:</p>
<blockquote>
<div><p>intcalfreq={?fits.DIAG_HZ}</p>
</div></blockquote>
<p>will always retrieve ‘intcalfreq’ in the configuration from the ‘DIAG_HZ’
key in the FITS header.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="fits-addkeys">
<div class="line"><strong>fits.addkeys</strong></div>
<div class="line">Telescope: SOFIA</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[fits]</div>
<div class="line">addkeys=&lt;key1&gt;,&lt;key2&gt;,…</div>
</div>
</td>
<td><p>Specify a comma-separated list of keys that should be migrated from the
first scan to the image header, in addition to the list of required SOFIA
header keys.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="fixjumps">
<div class="line"><strong>fixjumps</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[fixjumps]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Attempt to ‘fix’ residual flux jumps that result from imprecise
correction in the MCE.  Long jumps are re-levelled, while shorter ones
are flagged out to minimize impact on source structure.  Alternatively,
the same can be applied on a per-subarray basis as well as via the
<a class="reference internal" href="#fixjumps-sub">fixjumps.&lt;sub&gt;</a> option.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="fixjumps-detect">
<div class="line"><strong>fixjumps.detect</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[fixjumps]</div>
<div class="line">detect = &lt;X&gt;</div>
</div>
</td>
<td><p>If <a class="reference internal" href="#fixjumps">fixjumps</a> is set to True, attempt to locate and correct any
unreported jumps in the data.  &lt;X&gt; is a threshold value used to locate
possible jumps such that diff = d - shift(d, 1), mad = medabsdev(diff),
and possible jumps occur at abs(diff) &gt;= &lt;X&gt; * mad.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="fixjumps-sub">
<div class="line"><strong>fixjumps.&lt;sub&gt;</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[fixjumps]</div>
<div class="line">&lt;sub&gt; = {True, False}</div>
</div>
</td>
<td><p>The same as <a class="reference internal" href="#fixjumps">fixjumps</a> but performed on a per-subarray basis.  &lt;sub&gt;
may be currently one of {r0, r1, t0, t1}.</p></td>
</tr>
<tr class="row-odd"><td><p id="flag"><strong>flag</strong></p>
</td>
<td><div class="line-block">
<div class="line">[flag]</div>
<div class="line">&lt;field&gt;=&lt;list&gt;</div>
<div class="line">…</div>
</div>
</td>
<td><p>Flag channels based on ranges of values or values within certain ranges.
Here, &lt;field&gt; refers to a specific attribute of the channel data on which
to base the flagging.  For example:</p>
<div class="line-block">
<div class="line">[flag]</div>
<div class="line">col=10,20:22</div>
<div class="line">pin_gain=-1:0</div>
</div>
<p>Would flag channel columns 10, 20, 21, and 22 and any channels where
pin gain is between -1 and 0.  All such channels will be flagged as
‘DEAD’ and this process occurs only once following a scan read.  Note
that &lt;list&gt; may contain range elements with <code class="xref py py-obj docutils literal notranslate"><span class="pre">*</span></code> marking an open bound.
the colon (:) is preferred over hyphen (-) to mark ranges in order to
effectively distinguish negative numbers, although a hyphen will still
work as expected for purely positive values.</p>
</td>
</tr>
<tr class="row-even"><td><p id="flatweights"><strong>flatweights</strong></p>
</td>
<td><p>flatweights={True, False}</p></td>
<td><p>Override the channel weights from <a class="reference internal" href="#pixeldata">pixeldata</a> with their average value.
This way all channels carry the same uniformed initial weight.  It can be
useful when the <a class="reference internal" href="#pixeldata">pixeldata</a> weights are suspect for some reason.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="focalplane">
<div class="line"><strong>focalplane</strong></div>
<div class="line">Sets: system=focalplane</div>
</div>
</td>
<td><p>focalplane={True, False}</p></td>
<td><p>Produce maps in focal-plane coordinates.  This is practical only for
beam-mapping.  Thus, focal-plane coordinates are default when
<a class="reference internal" href="#source-type">source.type</a> is set to ‘pixelmap’.  See <a class="reference internal" href="#pixelmap">pixelmap</a> and <a class="reference internal" href="#source-type">source.type</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="focus-direction-coeff"><strong>focus.&lt;direction&gt;coeff</strong></p>
</td>
<td><p>focus.&lt;direction&gt;coeff=&lt;X&gt;</p></td>
<td><p>Used to convert the asymmetry and elongation parameters of an elliptical
model of the source to focus values (in mm) using focus=-1/coeff * param
where coeff is the value supplied here, and param is the asymmetry x or
y factor for directions x and y, and param is the elongation factor for
the z direction.  &lt;direction&gt; may take values of x, y, or z.</p></td>
</tr>
<tr class="row-odd"><td><p id="focus-direction-scatter"><strong>focus.&lt;direction&gt;scatter</strong></p>
</td>
<td><p>focus.&lt;direction&gt;scatter=&lt;X&gt;</p></td>
<td><p>Adds extra noise to the reported focus measurements in the x, y, and/or
z &lt;direction&gt;.  RMS values should be provided in units of mm.</p></td>
</tr>
<tr class="row-even"><td><p id="focus-significance"><strong>focus.significance</strong></p>
</td>
<td><p>focus.significance=&lt;X&gt;</p></td>
<td><p>Require focus calculation factors (asymmetry and elongation) to have a
signal-to-noise ratio of greater than &lt;X&gt; in order for the focus results
to be reported in the x, y, and z directions.</p></td>
</tr>
<tr class="row-odd"><td><p id="focus-elong0"><strong>focus.elong0</strong></p>
</td>
<td><p>focus.elong0=&lt;X&gt;</p></td>
<td><p>Subtracts an offset correction from the elongation of an elliptical
model of the source when and if focus calculations are performed.  &lt;X&gt;
should be supplied as a percentage value.</p></td>
</tr>
<tr class="row-even"><td><p id="forget"><strong>forget</strong></p>
</td>
<td><p>forget=&lt;key&gt;, …</p></td>
<td><p>Forget any prior values set for &lt;key&gt;, effectively removing it from the
configuration.  New values may always be set, but you may also re-set
a previously forgotten key using the <a class="reference internal" href="#recall">recall</a> command.  If &lt;key&gt; is set
to ‘conditionals’ or ‘blacklist’, all currently stored conditionals or
blacklisted keys will be removed.  See <a class="reference internal" href="#blacklist">blacklist</a> and <a class="reference internal" href="#id2">conditionals</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="frames"><strong>frames</strong></p>
</td>
<td><p>frames=&lt;from&gt;:&lt;to&gt;</p></td>
<td><p>Read only the specified frame ranges from the data.  Maybe useful for
quick peeks at the data without processing the full scan, or when a part
of the data is corrupted near the start or end of a scan.</p></td>
</tr>
<tr class="row-even"><td><p id="gain"><strong>gain</strong></p>
</td>
<td><p>gain=&lt;X&gt;</p></td>
<td><p>Specify an instrument gain of X from the detector stage (or fixed signal
stage) to the readout.  Many instruments may automatically determine the
relevant gain based on their data headers.  For others, the gains may
have to be adjusted by hand, especially if they are changing.  Upon
reading the scans, SOFSCAN will divide all data by the specified value,
to bring all scans to a comparable signal level  Conversions to <a class="reference internal" href="#jansky">jansky</a>
area referenced to such gain-scaled data.  See <a class="reference internal" href="#jansky">jansky</a>, <a class="reference internal" href="#dataunit">dataunit</a>, and
<a class="reference internal" href="#scale">scale</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="gainnoise"><strong>gainnoise</strong></p>
</td>
<td><p>gainnoise=&lt;X&gt;</p></td>
<td><p>Add noise to the initial gains.  There is not much use for this option,
other than checking the robustness of the reduction on the initial gain
assumption.  Since gains are usually measured in the reduction itself,
typical reductions should not depend a lot on the initial gain values.
See <a class="reference internal" href="#uniform">uniform</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="gains"><strong>gains</strong></p>
</td>
<td><div class="line-block">
<div class="line">[gains]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Solve for pixel gains based on their response to the correlated noise
(above).  If not specified, then all decorrelation steps will proceed
without a gain solution.  A model-by-model control is offered by the
<a class="reference internal" href="#correlated-modality-nogains">correlated.&lt;modality&gt;.nogains</a> option.  See <a class="reference internal" href="#gains-estimator">gains.estimator</a> and
<a class="reference internal" href="#correlated-modality-nogains">correlated.&lt;modality&gt;.nogains</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="gains-estimator"><strong>gains.estimator</strong></p>
</td>
<td><div class="line-block">
<div class="line">[gains]</div>
<div class="line">estimator={median, maximum-likelihood}</div>
</div>
</td>
<td><p>Specify the type of estimator (‘median’ or ‘maximum-likelihood’) to be
used for estimating pixel gains to correlated signals.  See <a class="reference internal" href="#estimator">estimator</a>
and <a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="gains-span"><strong>gains.span</strong></p>
</td>
<td><div class="line-block">
<div class="line">[gains]</div>
<div class="line">span={True, False}</div>
</div>
</td>
<td><p>Make the gains of all correlated modalities span scans instead of
integrations (subscans).  See <a class="reference internal" href="#correlated-modality-span">correlated.&lt;modality&gt;.span</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="galactic">
<div class="line"><strong>galactic</strong></div>
<div class="line">Sets: system=galactic</div>
</div>
</td>
<td><p>galactic={True, False}</p></td>
<td><p>Reduce using new galactic coordinates (for mapping).  See <a class="reference internal" href="#system">system</a>,
<a class="reference internal" href="#equatorial">equatorial</a>, and <a class="reference internal" href="#altaz">altaz</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="gradients">
<div class="line"><strong>gradients</strong></div>
<div class="line">Alias: correlated.gradients</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[gradients]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Shorthand for the decorrelation of gradients across the detector array.
Such gradients can occur as a result of spatial sky-noise, or as
temperature variation across the detectors.  See
<a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="grid"><strong>grid</strong></p>
</td>
<td><p>grid={&lt;X&gt; or &lt;dx&gt;,&lt;dy&gt;}</p></td>
<td><p>Set the map pixelization to X arcseconds.  Pixelization smaller than 2/5
of the beam is recommended.  The default is ~1/5 of the beam.  Non-square
pixelization can be specified using &lt;dx&gt;,&lt;dy&gt; in arcseconds.</p></td>
</tr>
<tr class="row-even"><td><p id="group"><strong>group</strong></p>
</td>
<td><div class="line-block">
<div class="line">[group]</div>
<div class="line">&lt;name&gt;=10:20,45,50:60</div>
<div class="line">…</div>
</div>
</td>
<td><p>Specify a list of channels by IDs or fixed index (usually the same as
storage index C-style 0-based), or ranges thereof that ought to belong
to a group with name &lt;name&gt;.  See <a class="reference internal" href="#division-name">division.&lt;name&gt;</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="gyrocorrect">
<div class="line"><strong>gyrocorrect</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[gyrocorrect]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>If present in the configuration, correct for gyrodrifts based on
guide-star relock data stored in the scan headers.  This is not normally
needed when the gyros function properly.  Occasionally however, they
drift a fair bit, and this option can activate the correction scheme on
demand.  See <a class="reference internal" href="#gyrocorrect-max">gyrocorrect.max</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="gyrocorrect-max">
<div class="line"><strong>gyrocorrect.max</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[gyrocorrect]</div>
<div class="line">max=&lt;X&gt;</div>
</div>
</td>
<td><p>Set a limit to how large of a gyro drift can be corrected for.  When
drifts larger than X arcseconds are found in the scan, the correction is
skipped for single scan reductions or dropped from the set in multi-scan
reductions.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="horizontal">
<div class="line"><strong>horizontal</strong></div>
<div class="line">Sets: system=horizontal</div>
</div>
</td>
<td><p>horizontal={True, False}</p></td>
<td><p>Reduce in horizontal coordinates (for mapping).  This is often useful for
determining pointing offsets or for pixel location mapping.  See <a class="reference internal" href="#system">system</a>
and <a class="reference internal" href="#pixelmap">pixelmap</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="indexing"><strong>indexing</strong></p>
</td>
<td><div class="line-block">
<div class="line">[indexing]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Allow the use of data indexing to speed up coordinate calculations for
mapping.  Without indexing the map coordinates are calculated at each
mapping step.  This can be slow because of the complexity of the
spherical projections, which often require several complex math
evaluations.  With indexing enabled, the calculations are only performed
once, and the relevant data is stored for future use.  However, this
increases the memory requirement of SOFSCAN.  This, indexing may be
disabled for very large reductions.  Alternatively, one may control the
amount of memory such indexing may use via the <a class="reference internal" href="#indexing-saturation">indexing.saturation</a>
option.  See <a class="reference internal" href="#grid">grid</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="indexing-check-memory"><strong>indexing.check_memory</strong></p>
</td>
<td><div class="line-block">
<div class="line">[indexing]</div>
<div class="line">check_memory=&lt;True,False&gt;</div>
</div>
</td>
<td><p>If True (default), performs a memory check to see if enough space
exists in memory to index scans.  This should only really be turned
off when running unit tests on a Windows virtual maching.  See
<a class="reference internal" href="#indexing">indexing</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="indexing-saturation"><strong>indexing.saturation</strong></p>
</td>
<td><div class="line-block">
<div class="line">[indexing]</div>
<div class="line">saturation=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify the maximum fraction X of the total available memory that can be
filled before indexing is automatically disabled.  Given a typical 20%
overhead during reduction, values below 0.8 are recommended to avoid
overflows.  See <a class="reference internal" href="#indexing">indexing</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="invert"><strong>invert</strong></p>
</td>
<td><p>invert={True, False}</p></td>
<td><p>Invert signals.  This setting may be useful in creating custom
jackknives, where the user wishes to retain control over which scans are
inverted.  See <a class="reference internal" href="#gain">gain</a>, <a class="reference internal" href="#scale">scale</a>, and <a class="reference internal" href="#jackknife">jackknife</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="id4"><strong>iteration</strong></p>
</td>
<td><div class="line-block">
<div class="line">[iteration]</div>
<div class="line">[[&lt;N&gt;, &lt;X&gt;, &lt;x%&gt;]]</div>
<div class="line">&lt;key&gt;=&lt;value&gt;</div>
<div class="line">…</div>
</div>
</td>
<td><p>Use as a condition to delay settings until the Nth iteration.  E.g:</p>
<div class="line-block">
<div class="line">[iteration]</div>
<div class="line">[[3]]</div>
<div class="line">smooth=halfbeam</div>
</div>
<p>will specify half-beam smoothing beginning on the 3rd iteration.  Note
that the first iteration is numbered as 1.  Negative values for N are
relative to the last iteration at -1.  For example, -2 references the
penultimate iteration.  A fraction X or percentage x may also be supplied
relative to the maximum number of <a class="reference internal" href="#rounds">rounds</a>.  For example, for a reduction
with 10 rounds, the following settings will all be triggered on the 5th
iteration:</p>
<div class="line-block">
<div class="line">[iteration]</div>
<div class="line">[[5]]</div>
<div class="line">smooth=5.0</div>
<div class="line">[[0.5]]</div>
<div class="line">smooth=6.0</div>
<div class="line">[[-6]]</div>
<div class="line">smooth=7.0</div>
<div class="line">[[50%]]</div>
<div class="line">smooth=8.0</div>
</div>
<p>SOFSCAN will parse options as they are encountered in the configuration,
so the resultant smooth setting on the 5th round will by 8.0.</p>
</td>
</tr>
<tr class="row-odd"><td><p id="jackknife"><strong>jackknife</strong></p>
</td>
<td><div class="line-block">
<div class="line">[jackknife]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Jackkniving is a useful technique to produce accurate noise maps from
large datasets.  When the option is used, the scan signals are randomly
inverted so that the source signals in the large datasets will tend to
cancel out, leaving noise maps.  The sign inversion is truly random in
which repeated runs with the ‘jackknife’ flag will produce differenct
jackknives every time.  If you want more control over which scans are
inverted, consider using the <a class="reference internal" href="#invert">invert</a> flag instead.  See <a class="reference internal" href="#invert">invert</a>,
<a class="reference internal" href="#scramble">scramble</a>, <a class="reference internal" href="#jackknife-frames">jackknife.frames</a>, <a class="reference internal" href="#jackknife-channels">jackknife.channels</a>, and
<a class="reference internal" href="#jackknife-alternate">jackknife.alternate</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="jackknife-alternate"><strong>jackknife.alternate</strong></p>
</td>
<td><div class="line-block">
<div class="line">[jackknife]</div>
<div class="line">alternate={True, False}</div>
</div>
</td>
<td><p>Rather than randomly inverting scans for a jackknife, this option will
invert every other scan.  This may be preferred for small datasets,
because it leads to better cancellation of source signals, especially
with an even number of scans, chronologically listed.  To have the
desired effect, use instead of <a class="reference internal" href="#jackknife">jackknife</a>, rather than together with it
(otherwise, the ordered inversion will simply compound the random method
of the standard <a class="reference internal" href="#jackknife">jackknife</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="jackknife-channels"><strong>jackknife.channels</strong></p>
</td>
<td><div class="line-block">
<div class="line">[jackknife]</div>
<div class="line">channels={True, False}</div>
</div>
</td>
<td><p>Jackknife channels, such that they are randomly inverted for the source
model.  Beware however, that channel-wise jackknives are not as
representative of the true noise as the regular scan-wise <a class="reference internal" href="#jackknife">jackknife</a>,
because they will reject spatial correlations and instrumental
channel-to-channel correlations.  See <a class="reference internal" href="#jackknife">jackknife</a>, <a class="reference internal" href="#jackknife-frames">jackknife.frames</a>,
and <a class="reference internal" href="#scramble">scramble</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="jackknife-frames"><strong>jackknife.frames</strong></p>
</td>
<td><div class="line-block">
<div class="line">[jackknife]</div>
<div class="line">frames={True, False}</div>
</div>
</td>
<td><p>Jackknife frames, such that they are randomly inverted for the source
model.  Beware however, that frame jackknives are not as representative
if the true noise as the regular scan-wise <a class="reference internal" href="#jackknife">jackknife</a>, because they will
reject temporal correlations.</p></td>
</tr>
<tr class="row-odd"><td><p id="jansky"><strong>jansky</strong></p>
</td>
<td><div class="line-block">
<div class="line">[jansky]</div>
<div class="line">value=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify the calibration factor from <a class="reference internal" href="#dataunit">dataunit</a> to Jy such that
Jansky’s = dataunit * X.  See <a class="reference internal" href="#dataunit">dataunit</a>, <a class="reference internal" href="#gain">gain</a>, and <a class="reference internal" href="#jansky-inverse">jansky.inverse</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="jansky-inverse"><strong>jansky.inverse</strong></p>
</td>
<td><div class="line-block">
<div class="line">[jansky]</div>
<div class="line">inverse={True, False}</div>
</div>
</td>
<td><p>When used, the <a class="reference internal" href="#jansky">jansky</a> definition is inverted to mean Jy to <a class="reference internal" href="#dataunit">dataunit</a>
such that dataunit = X * Jansky’s.</p></td>
</tr>
<tr class="row-odd"><td><p id="k2jy"><strong>k2jy</strong></p>
</td>
<td><p>k2jy=&lt;X&gt;</p></td>
<td><p>The Jy/K conversion factor to X.  This allows SOFSCAN to calculate a data
conversion to units of Kelvin if <a class="reference internal" href="#jansky">jansky</a> is also defined.  Alternatively,
the conversion to Kelvins can be specified directly via the <a class="reference internal" href="#kelvin">kelvin</a> key.</p></td>
</tr>
<tr class="row-even"><td><p id="kelvin"><strong>kelvin</strong></p>
</td>
<td><p>kelvin=&lt;X&gt;</p></td>
<td><p>Set the conversion to units of Kelvin (or more precisely, to K/beam
units).  X defines the equivalent value of 1 K/beam expressed in the
native <a class="reference internal" href="#dataunit">dataunit</a>.  See <a class="reference internal" href="#dataunit">dataunit</a>, <a class="reference internal" href="#jansky">jansky</a>, and <a class="reference internal" href="#k2jy">k2jy</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="lab">
<div class="line"><strong>lab</strong></div>
<div class="line">Sets:</div>
<div class="line">blacklist=source, filter.motion, tau, filter, whiten, shift, point</div>
<div class="line">forget=downsample</div>
<div class="line">write.spectrum=True</div>
</div>
</td>
<td><p>lab={True, False}</p></td>
<td><p>A conditional switch that indicates no astronomical observation was made.
Effectively disables most tasks related to telescope motion or source
derivation, and instead writes channel spectra to file.  See
<a class="reference internal" href="#write-spectrum">write.spectrum</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="last">
<div class="line"><strong>last</strong></div>
<div class="line">Alias: iteration.-1</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[last]</div>
<div class="line">&lt;key&gt;=&lt;value&gt;</div>
<div class="line">…</div>
</div>
</td>
<td><p>An alias for settings to be applied on the last iteration.  See <a class="reference internal" href="#final">final</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="lock"><strong>lock</strong></p>
</td>
<td><p>lock=&lt;key1&gt;,&lt;key2&gt;,…</p></td>
<td><p>Set a persistent option value that cannot be changed, cleared, or
blacklisted later (e.g. by conditionally activated settings).  Users may
use locks to ensure that their manually set reduction options are
applied and never overridden.  For the lock to take effect, the option
must not be blacklisted or locked to a different value before.  The
value of a key will be set to its current value.  To release a lock,
the <a class="reference internal" href="#unlock">unlock</a> command may be issued.  See <a class="reference internal" href="#unlock">unlock</a> and <a class="reference internal" href="#blacklist">blacklist</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="los">
<div class="line"><strong>los</strong></div>
<div class="line">Instrument: HAWC+</div>
<div class="line">Alias: correlated.los</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[los]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Remove correlations with the second-derivative to the telescope
line-of-sight (LOS) angle.  It is a good proxy for removing pitch-type
acceleration response from the detector timestream.  See
<a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="map">
<div class="line"><strong>map</strong></div>
<div class="line">Sets: source.type=map</div>
</div>
</td>
<td><p>map={True, False}</p></td>
<td><p>A switch to produce a source map on output.</p></td>
</tr>
<tr class="row-even"><td><p id="mappingfraction"><strong>mappingfraction</strong></p>
</td>
<td><p>mappingfraction=&lt;X&gt;</p></td>
<td><p>Specify a minimum fraction of pixels (X) in the array that have to remain
unflagged for creating a map from the scan.  If too many pixels are
flagged in the reduction, it may be a sign of bigger problems,
questioning the reliability of the scan data.  It is best to skip over
problematic scans in order to minimize their impact on the mapping.  See
<a class="reference internal" href="#mappingpixels">mappingpixels</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="mappingpixels"><strong>mappingpixels</strong></p>
</td>
<td><p>mappingpixels=&lt;N&gt;</p></td>
<td><p>Specify a minimum number of pixels (N) which have to be unflagged by the
reduction in order for the scan to contribute to the mapping step.  See
<a class="reference internal" href="#mappingfraction">mappingfraction</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="map-size"><strong>map.size</strong></p>
</td>
<td><div class="line-block">
<div class="line">[map]</div>
<div class="line">size=&lt;dx&gt;{x or X or , or tab or :}&lt;dy&gt;</div>
</div>
</td>
<td><p>Explicitly set the size of the mapped area centered on the source to a dx
by dy arcseconds rectangle.  Normally, the map size is automatically
calculated to contain all of the data.  One may want to restrict mapping
to smaller regions (outside of which there should be no bright signals).
See <a class="reference internal" href="#system">system</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="moving"><strong>moving</strong></p>
</td>
<td><p>moving={True, False}</p></td>
<td><p>Explicitly specify that the object is moving in the celestial frame (such
as solar system objects like plants, asteroids, comets, and moons).  This
way, data will be properly aligned on the coordinates of the first scan.
If the data headers are correctly set up (and interpreted by SOFSCAN),
moving objects can be automatically detected.  This option is there in
case things do not work as expected (e.g., if you notice that your solar
system object smears or moves across the image with the default
reduction.  Currently, this option forces equatorial coordinates.  This
option is also aliased as <a class="reference internal" href="#planetary">planetary</a>.  See <a class="reference internal" href="#system">system</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="multibeam">
<div class="line"><strong>multibeam</strong></div>
<div class="line">Sets: source.type=multibeam</div>
</div>
</td>
<td><p>multibeam={True, False}</p></td>
<td><p>An alias for setting the source type to multibeam.</p></td>
</tr>
<tr class="row-odd"><td><p id="name"><strong>name</strong></p>
</td>
<td><p>name=&lt;filename&gt;</p></td>
<td><p>Specify the output image filename, relative to the directory specified
by <a class="reference internal" href="#outpath">outpath</a>.  When not given, SOFSCAN will choose a file name based on
the source name and scan number(s), which is either:</p>
<blockquote>
<div><p>&lt;sourcename&gt;.&lt;scanno&gt;.fits</p>
</div></blockquote>
<p>or:</p>
<blockquote>
<div><p>&lt;sourcename&gt;.&lt;firstscan&gt;-&lt;lastscan&gt;.fits</p>
</div></blockquote>
<p>For mapping, other source model types (e.g. skydips or pixel maps) may
have different default naming conventions.</p>
</td>
</tr>
<tr class="row-even"><td><p id="nefd-map"><strong>nefd.map</strong></p>
</td>
<td><div class="line-block">
<div class="line">[nefd]</div>
<div class="line">map={True, False}</div>
</div>
</td>
<td><p>True to use apparent map noise (if available, e.g. via
<a class="reference internal" href="#weighting-scans">weighting.scans</a>) to refine the reported NEFD estimate.  Else, the NEFD
estimate will be based on the timestream noise alone.</p></td>
</tr>
<tr class="row-odd"><td><p id="noiseclip"><strong>noiseclip</strong></p>
</td>
<td><p>noiseclip=&lt;X&gt;</p></td>
<td><p>Flag (clip) map pixels with a noise level that is more than X times
higher than the deepest covered parts of the map.  See <a class="reference internal" href="#exposureclip">exposureclip</a> and
<a class="reference internal" href="#clip">clip</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="noslim"><strong>noslim</strong></p>
</td>
<td><p>noslim={True, False}</p></td>
<td><p>After reading the scans, SOFSCAN will discard data from channels flagged
with a hardware problem to free up memory, and to speed up the reduction.
This option overrides this behaviour, and retains all channels for the
reduction whether used or not.</p></td>
</tr>
<tr class="row-odd"><td><p id="notch"><strong>notch</strong></p>
</td>
<td><div class="line-block">
<div class="line">[notch]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Enable notch filtering the raw detector timestreams before further
initial processing (e.g. downsampling).  The sub-options
<a class="reference internal" href="#notch-frequencies">notch.frequencies</a>, <a class="reference internal" href="#notch-harmonics">notch.harmonics</a>. and <a class="reference internal" href="#notch-width">notch.width</a> are used to
customize the notch filter response.</p></td>
</tr>
<tr class="row-even"><td><p id="notch-frequencies"><strong>notch.frequencies</strong></p>
</td>
<td><div class="line-block">
<div class="line">[notch]</div>
<div class="line">frequencies=&lt;freq1&gt;, &lt;freq2&gt;,…</div>
</div>
</td>
<td><p>A comma-separated list of frequencies (Hz) to notch out from the raw
detector timestreams.  See <a class="reference internal" href="#notch-harmonics">notch.harmonics</a>. and <a class="reference internal" href="#notch-width">notch.width</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="notch-harmonics"><strong>notch.harmonics</strong></p>
</td>
<td><div class="line-block">
<div class="line">[notch]</div>
<div class="line">harmonics=&lt;N&gt;</div>
</div>
</td>
<td><p>Specify that the notch filter should also notch out N harmonics of the
specified <a class="reference internal" href="#notch-frequencies">notch.frequencies</a>.  If not set, only the list of frequencies
are notched, i.e. the same as ‘harmonics=1’.  For example:</p>
<blockquote>
<div><p>notch.harmonics=2</p>
</div></blockquote>
<p>will notch out the list of frequencies set by <a class="reference internal" href="#notch-frequencies">notch.frequencies</a> as
well as their second harmonics.  See <a class="reference internal" href="#notch-frequencies">notch.frequencies</a> and
<a class="reference internal" href="#notch-width">notch.width</a>.</p>
</td>
</tr>
<tr class="row-even"><td><p id="notch-width"><strong>notch.width</strong></p>
</td>
<td><div class="line-block">
<div class="line">[notch]</div>
<div class="line">width=&lt;X&gt;</div>
</div>
</td>
<td><p>Set the frequency width (Hz) of the notch filter response.  See
<a class="reference internal" href="#notch-frequencies">notch.frequencies</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="obstime"><strong>obstime</strong></p>
</td>
<td><div class="line-block">
<div class="line">[conditionals]</div>
<div class="line">[[obstime&lt;operator&gt;&lt;T&gt;]]</div>
<div class="line">&lt;key&gt;=&lt;value&gt;</div>
<div class="line">…</div>
</div>
</td>
<td><p>Configure settings based on the total observing time of all input scans.
The total obstime is compared agains T (seconds) using &lt;operator&gt;, and
all settings are applied if the requirement is met.  For example:</p>
<div class="line-block">
<div class="line">[conditionals]</div>
<div class="line">[[obstime&gt;60]]</div>
<div class="line">stability=10</div>
</div>
<p>will set the stability value to 10 if the total observation time is
longer than one minute.  Nesting obstime conditions is possible with
some limitations.  It is evaluated only once, after all scans have been
read.  Thus, the condition will have no effect if activated later (e.g.
if nested inside an iteration condition).</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block" id="offset">
<div class="line"><strong>offset</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[offset]</div>
<div class="line">&lt;sub&gt;=&lt;dx&gt;,&lt;dy&gt;</div>
<div class="line">…</div>
</div>
</td>
<td><p>Specify subarray offsets.  For HAWC+ &lt;sub&gt; may take values of ‘R0’, ‘R1’,
‘T0’, and/or ‘T1’.  dx and dy are in units of pixels.  See <a class="reference internal" href="#rotation">rotation</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="offsets">
<div class="line"><strong>offsets</strong></div>
<div class="line">Sets: forget=drifts</div>
</div>
</td>
<td><p>offsets={True, False}</p></td>
<td><p>Remove the residual DC offsets from the bolometer signals using the
‘offsets’ task in <a class="reference internal" href="#ordering">ordering</a> rather than <a class="reference internal" href="#drifts">drifts</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="ordering"><strong>ordering</strong></p>
</td>
<td><p>ordering=&lt;task1&gt;,&lt;task2&gt;,…</p></td>
<td><p>Specify the order of pipeline elements as a comma-separated list of keys.
See <a class="reference internal" href="#offsets">offsets</a>, <a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a>, <a class="reference internal" href="#whiten">whiten</a>, and <a class="reference internal" href="#weighting-frames">weighting.frames</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="organization">
<div class="line"><strong>organization</strong></div>
<div class="line">Telescope: SOFIA</div>
</div>
</td>
<td><p>organization=&lt;text&gt;</p></td>
<td><p>Specify the organization at which SOFSCAN is being used for reducing
data.  The value of this option is stored directly in the FITS ORIGIN
header key as required by the DCS.  If you want the ORIGIN key to be set
properly, you might consider adding the organization option to
‘~/.sofscan/sofia/default.cfg’ as ‘SOFIA Science and Mission Ops’.</p></td>
</tr>
<tr class="row-even"><td><p id="outpath"><strong>outpath</strong></p>
</td>
<td><div class="line-block">
<div class="line">[outpath]</div>
<div class="line">value=&lt;directory&gt;</div>
</div>
</td>
<td><p>Specify the output path where all SOFSCAN output will be written
(including maps etc.).  If not specified, will default to the current
working directory.</p></td>
</tr>
<tr class="row-odd"><td><p id="outpath-create"><strong>outpath.create</strong></p>
</td>
<td><div class="line-block">
<div class="line">[outpath]</div>
<div class="line">create={True, False}</div>
</div>
</td>
<td><p>When set, the output path will be automatically created as necessary.  If
not, SOFSCAN will exit with an error if the output path does not exist.
See <a class="reference internal" href="#outpath">outpath</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="parallel-cores"><strong>parallel.idle</strong></p>
</td>
<td><div class="line-block">
<div class="line">[parallel]</div>
<div class="line">cores={N, x, X%}</div>
</div>
</td>
<td><p>Instruct SOFSCAN to use N number of CPU cores, fraction x of
available processors, or X percent of available processors.  By default
SOFSCAN will try to use 50% of the processing cores in your machine for
decent performance without taking up too many resources.  This option
allow modification of this behaviour according to need.</p></td>
</tr>
<tr class="row-odd"><td><p id="parallel-idle"><strong>parallel.idle</strong></p>
</td>
<td><div class="line-block">
<div class="line">[parallel]</div>
<div class="line">idle={N, x, X%}</div>
</div>
</td>
<td><p>Instruct SOFSCAN to avoid using N number of CPU cores, fraction x of
available processors, or X percent of available processors.</p></td>
</tr>
<tr class="row-even"><td><p id="parallel-jobs"><strong>parallel.jobs</strong></p>
</td>
<td><div class="line-block">
<div class="line">[parallel]</div>
<div class="line">jobs={N, x, X%}</div>
</div>
</td>
<td><p>Instruct SOFSCAN to allow a maximum of N jobs, fraction x of
available cores, or X percent of available cores.  The maximum
number of cores is set by <a class="reference internal" href="#parallel-idle">parallel.idle</a> or <a class="reference internal" href="#parallel-cores">parallel.cores</a>.  This
relates not only to the number of cores, but the number of threads inside
each core, so that:</p>
<blockquote>
<div><p>cores * threads &lt;= parallel.jobs</p>
</div></blockquote>
<p>The default is -1, indicating that the number of jobs is capped by the
number of cores.</p>
</td>
</tr>
<tr class="row-odd"><td><p id="parallel-mode"><strong>parallel.mode</strong></p>
</td>
<td><div class="line-block">
<div class="line">[parallel]</div>
<div class="line">mode=&lt;mode&gt;</div>
</div>
</td>
<td><p>Set the parallel processing mode.  &lt;mode&gt; may be one of:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>scans</em>: process scans in parallel.</p></li>
<li><p><em>ops</em>: process each scan with parallel threads where possible.</p></li>
<li><p><em>hybrid</em>: process as many scans in parallel as possible, each with
an optimal number of threads.</p></li>
</ul>
</div></blockquote>
<p>The default mode is ‘hybrid’.</p>
</td>
</tr>
<tr class="row-even"><td><p id="parallel-scans"><strong>parallel.scans</strong></p>
</td>
<td><div class="line-block">
<div class="line">[parallel]</div>
<div class="line">scans=&lt;True,False&gt;</div>
</div>
</td>
<td><p>Perform the reduction tasks for all scans in parallel.  This is not
recommended when dealing with large data sets due to memory pressure.</p></td>
</tr>
<tr class="row-odd"><td><p id="parallel-source"><strong>parallel.source</strong></p>
</td>
<td><div class="line-block">
<div class="line">[parallel]</div>
<div class="line">source=&lt;True,False&gt;</div>
</div>
</td>
<td><p>Update the scan source models in parallel if True.  This is recommended
when dealing with large sets of data due to better memory management
procedures.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="pcenter">
<div class="line"><strong>pcenter</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><p>pcenter={&lt;X&gt; or &lt;x&gt;,&lt;y&gt;}</p></td>
<td><p>Specify the boresight position (pixels) on the detector array.  If a
single value &lt;X&gt; is given, it will be applied to both the &lt;x&gt; and &lt;y&gt;
directions (columns and rows).</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="peakflux">
<div class="line"><strong>peakflux</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><p>peakflux={True, False}</p></td>
<td><p>Switch to peak-flux calibration instead of the default aperture flux
calibration.  Recommended for point sources only.</p></td>
</tr>
<tr class="row-even"><td><p id="perimeter"><strong>perimeter</strong></p>
</td>
<td><p>perimeter={&lt;N&gt;, auto}</p></td>
<td><p>To speed up the sizing of the output image for large arrays (e.g. HAWC+)
do not use the positions of each and every pixel.  Instead, identify a
set of pixels that define an array perimeter from N sections around the
centroid of the array.  N values up to a few hundred should be fail-safe
for most typical array layouts, even when these have lots of pixels.</p></td>
</tr>
<tr class="row-odd"><td><p id="phases"><strong>phases</strong></p>
</td>
<td><div class="line-block">
<div class="line">[phases]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Decorrelate the phase data (e.g. for chopped observations) for all
correlated modes.  Alternatively, phase decorrelation can be turned on
individually using the <a class="reference internal" href="#correlated-modality-phases">correlated.&lt;modality&gt;.phases</a> options.</p></td>
</tr>
<tr class="row-even"><td><p id="phases-estimator"><strong>phases.estimator</strong></p>
</td>
<td><div class="line-block">
<div class="line">[phases]</div>
<div class="line">estimator={median, maximum-likelihood}</div>
</div>
</td>
<td><p>Overrides the global estimator setting for the phases (e.g. chopper
phases).  The estimator may be either ‘median’ or ‘maximum-likelihood’.
If neither of these, it will default to ‘maximum-likelihood’.  If not
set, the global <a class="reference internal" href="#estimator">estimator</a> will be used.</p></td>
</tr>
<tr class="row-odd"><td><p id="phasegains"><strong>phasegains</strong></p>
</td>
<td><p>phasegains={True, False}</p></td>
<td><p>Use the information in the phases to calculate gains for all correlated
modes.  The default is to use the fast samples for calculating gains.
Alternatively, you can set this property separately for each correlated
modality using <a class="reference internal" href="#correlated-modality-phasegains">correlated.&lt;modality&gt;.phasegains</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="pixeldata"><strong>pixeldata</strong></p>
</td>
<td><p>pixeldata=&lt;filename&gt;</p></td>
<td><p>Specifies a pixel data file, providing initial gains, weights, and flags
for detectors, and possibly other information as well depending on the
specific instrument.  Such files can be produced via the
<a class="reference internal" href="#write-pixeldata">write.pixeldata</a> options (in addition to which you may want to specify
‘forget=pixeldata’ so that flags are determined without prior bias).  See
<a class="reference internal" href="#gainnoise">gainnoise</a>, <a class="reference internal" href="#uniform">uniform</a>, <a class="reference internal" href="#flag">flag</a>, and <a class="reference internal" href="#blind">blind</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="pixelmap">
<div class="line"><strong>pixelmap</strong></div>
<div class="line">Sets: source.type=pixelmap</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[pixelmap]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Effectively the same as ‘source.type=pixelmap’ which is invoked by a
condition.  Used for reducing pixel map data.  Instead of making a single
map from all pixels, separate maps are create for each pixel.  (Note,
this can chew up some memory if you have a lot of pixels).  At the end of
the reduction, SOFSCAN determines the actual pixel offsets in the focal
plane.  See <a class="reference internal" href="#source-type">source.type</a>, <a class="reference internal" href="#skydip">skydip</a>, and <a class="reference internal" href="#grid">grid</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="pixelmap-process"><strong>pixelmap.process</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pixelmap]</div>
<div class="line">process={True, False}</div>
</div>
</td>
<td><p>Specify that pixel maps should undergo the same post-processing steps
(e.g. smoothing, clipping, filtering, etc.) that are used for regular
map-making.  When the option is not set, pixel maps are used in their
raw maximum-likelihood forms.  See <a class="reference internal" href="#pixelmap">pixelmap</a> and <a class="reference internal" href="#pixelmap-writemaps">pixelmap.writemaps</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="pixelmap-writemaps"><strong>pixelmap.writemaps</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pixelmap]</div>
<div class="line">writemaps={True, False, &lt;list&gt;}</div>
</div>
</td>
<td><p>Pixel maps normally only produce the pixel position information as
output.  Use this option if you want SOFSCAN to write individual pixel
maps as well.  See <a class="reference internal" href="#pixelmap">pixelmap</a> and <a class="reference internal" href="#pixelmap-process">pixelmap.process</a>.  You can specify
which pixels to write by setting &lt;list&gt; which may contain comma-separated
values or ranges referring to the integer fixed channel indices.  For
example:</p>
<blockquote>
<div><p>pixelmap.writemaps=10,15:17</p>
</div></blockquote>
<p>would write pixel maps for channels 10, 15, 16, and 17.</p>
</td>
</tr>
<tr class="row-even"><td><p id="pixels"><strong>pixels</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pixels]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>Set user defined options relating to how the initial channel data is
read and validated.  See <a class="reference internal" href="#pixeldata">pixeldata</a> and <a class="reference internal" href="#rcp">rcp</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="pixel-criticalflags"><strong>pixel.criticalflags</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pixel]</div>
<div class="line">criticalflags=&lt;flag1&gt;, &lt;flag2&gt;,…</div>
</div>
</td>
<td><p>Determines which flags present in the initial channel data should
continue to mark a channel as being flagged for the remainder of the
reduction (unless removed by another reduction step).  The &lt;flag&gt;
arguments may take the form of an integer, letter, or string (e.g. ‘G’,
‘GAIN’, or 4).  Note that channel flags are usually specific to different
instruments, so please ensure such flags are defined correctly.  For
example, a <a class="reference internal" href="#pixeldata">pixeldata</a> file may define one channel as spiky (‘s’) but
if ‘SPIKY’ is not included in the critical flags, that channel will not
flagged as such at the start of the reduction.  The default critical
flags are ‘GAIN’, ‘DEAD’, and ‘DISCARD’.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="pixels-coupling-range">
<div class="line"><strong>pixels.coupling.range</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[pixels]</div>
<div class="line">[[coupling]]</div>
<div class="line">range=&lt;min&gt;:&lt;max&gt;</div>
</div>
</td>
<td><p>Specify a valid range of coupling values for the initial channel data.
Standard range syntax is observed such that <code class="xref py py-obj docutils literal notranslate"><span class="pre">*</span></code> may indicated an
unbounded limit. Any channel that has a coupling value outside of this in
the initial channel data will be flagged as ‘DEAD’.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="pixels-coupling-exclude">
<div class="line"><strong>pixels.coupling.exclude</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[pixels]</div>
<div class="line">[[coupling]]</div>
<div class="line">exclude=&lt;x1&gt;,&lt;x2&gt;,…</div>
</div>
</td>
<td><p>Flag channels with a coupling equal to certain values as ‘DEAD’ in the
initial channel data.  For example:</p>
<blockquote>
<div><p>pixels.coupling.exclude=0,1</p>
</div></blockquote>
<p>would flag channels with initial coupling values exactly equal to 0 or 1
as ‘DEAD’.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block" id="pixels-gain-range">
<div class="line"><strong>pixels.gain.range</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[pixels]</div>
<div class="line">[[gain]]</div>
<div class="line">range=&lt;min&gt;:&lt;max&gt;</div>
</div>
</td>
<td><p>Specify a valid range of gains for the initial channel data.  Standard
range syntax is observed such that <code class="xref py py-obj docutils literal notranslate"><span class="pre">*</span></code> may indicated an unbounded limit.
Any channel that has a gain value outside of this in the initial channel
data will be flagged as ‘DEAD’.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="pixels-gain-exclude">
<div class="line"><strong>pixels.gain.exclude</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[pixels]</div>
<div class="line">[[gain]]</div>
<div class="line">exclude=&lt;x1&gt;,&lt;x2&gt;,…</div>
</div>
</td>
<td><p>Flag channels with gain equal to certain values as ‘DEAD’ in the initial
channel data.  For example:</p>
<blockquote>
<div><p>pixels.gain.exclude=0,1</p>
</div></blockquote>
<p>would flag channels with initial gain values exactly equal to 0 or 1 as
‘DEAD’.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block" id="pixelsize">
<div class="line"><strong>pixelsize</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><p>pixelsize={&lt;X&gt; or &lt;x&gt;,&lt;y&gt;}</p></td>
<td><p>Specify the pixel sizes (arcseconds) for the detector array.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="planetary">
<div class="line"><strong>planetary</strong></div>
<div class="line">Alias: moving</div>
</div>
</td>
<td><p>planetary={True, False}</p></td>
<td><p>An alias for <a class="reference internal" href="#moving">moving</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="point"><strong>point</strong></p>
</td>
<td><p>point={True, False}</p></td>
<td><p>This is a convenience key for triggering settings for reducing pointing
scans.  By default, it invokes:</p>
<div class="line-block">
<div class="line">[iteration]</div>
<div class="line">[[last]]</div>
<div class="line">pointing.suggest=True</div>
</div>
<p>i.e. suggesting the pointing corrections in the last iteration.  See
<a class="reference internal" href="#pointing">pointing</a>, <a class="reference internal" href="#pointing-suggest">pointing.suggest</a> and <a class="reference internal" href="#pointing-method">pointing.method</a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p id="pointing"><strong>pointing</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pointing]</div>
<div class="line">value={&lt;x&gt;,&lt;y&gt; or suggest}</div>
</div>
</td>
<td><p>Specify pointing corrections, or the way these should be derived.  The
following values are accepted:</p>
<ul class="simple">
<li><p><em>&lt;x&gt;,&lt;y&gt;</em>: Specify relative pointing offsets as comma-separated values
(arcseconds) in the system of the telescope mount.  I.e., these should
be horizontal offsets for ground-based telescopes with an Alt/Az mount.
Some instruments may allow more ways to specify pointing corrections.</p></li>
<li><p><em>suggest</em>: Suggest pointing offsets (at the end of the reduction) from
the scan itself.  This is only suitable when reducing compact pointing
sources with sufficient S/N to be clearly visible in single scans.</p></li>
</ul>
<p>See <a class="reference internal" href="#point">point</a>.</p>
</td>
</tr>
<tr class="row-even"><td><p id="pointing-degree"><strong>pointing.degree</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pointing]</div>
<div class="line">degree=&lt;X&gt;</div>
</div>
</td>
<td><p>Sets the degree (integer &lt;X&gt;) of spline used to fit the peak source
amplitude value. This may be important for pixel maps where the map
coverage is not sufficient to provide the required number of points
for a third degree spline fit (default).</p></td>
</tr>
<tr class="row-odd"><td><p id="pointing-exposureclip"><strong>pointing.exposureclip</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pointing]</div>
<div class="line">exposureclip=&lt;X&gt;</div>
</div>
</td>
<td><p>Clip away the underexposed part of the map, below a relative exposure
X times the most exposed part of the map.  This option works similarly to
the <a class="reference internal" href="#exposureclip">exposureclip</a> option, but applies only to the map used for deriving
the pointing internally.</p></td>
</tr>
<tr class="row-even"><td><p id="pointing-lsq"><strong>pointing.lsq</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pointing]</div>
<div class="line">lsq={True, False}</div>
</div>
</td>
<td><p>Attempt to fit the pointing using Least-Squares method rather than the
chosen <a class="reference internal" href="#pointing-method">pointing.method</a>.  This will usually result in a better fit,
but does not always successfully converge when the source is not easily
modelled by a Gaussian.  In case the LSQ method fails, a secondary
attempt will be made using <a class="reference internal" href="#pointing-method">pointing.method</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="pointing-method"><strong>pointing.method</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pointing]</div>
<div class="line">method={centroid, position, peak}</div>
</div>
</td>
<td><p>Specify the method used for obtaining positions of pointing sources.
The available methods are:</p>
<ul class="simple">
<li><p><em>peak</em>: Take the maximum value as the peak location.</p></li>
<li><p><em>centroid</em>: Take the centroid as the peak location.</p></li>
<li><p><em>position</em>: The same as ‘peak’.</p></li>
</ul>
<p>See <a class="reference internal" href="#pointing-suggest">pointing.suggest</a>.</p>
</td>
</tr>
<tr class="row-even"><td><p id="pointing-radius"><strong>pointing.radius</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pointing]</div>
<div class="line">radius=&lt;X&gt;</div>
</div>
</td>
<td><p>Restrict the pointing fit to a circular area, with radius X (arcseconds),
around the nominal map center.  it may be useful for deriving pointing in
a crowded field.  See <a class="reference internal" href="#pointing-suggest">pointing.suggest</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="pointing-reduce-degrees"><strong>pointing.reduce_degrees</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pointing]</div>
<div class="line">reduce_degrees={True, False}</div>
</div>
</td>
<td><p>Allows the degree of spline fit to be lowered if there are insufficient
points to allow for the requested fit (see <a class="reference internal" href="#pointing-degree">pointing.degree</a>).</p></td>
</tr>
<tr class="row-even"><td><p id="pointing-significance"><strong>pointing.significance</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pointing]</div>
<div class="line">significance=&lt;X&gt;</div>
</div>
</td>
<td><p>Set the significance (S/N) level required for pointing sources to provide
a valid pointing result.  If the option is not set, a value of 5.0 is
assumed.</p></td>
</tr>
<tr class="row-odd"><td><p id="pointing-suggest"><strong>pointing.suggest</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pointing]</div>
<div class="line">suggest={True, False}</div>
</div>
</td>
<td><p>Fit pointing for each input scan at the end of the reduction.  It can
also be triggered by the <a class="reference internal" href="#point">point</a> shorthand (alias), and may be enabled by
default for certain types of scans, depending on the instrument.  E.g.,
for HAWC+, pointing fits are automatically enabled for short single-scan
reductions.  See <a class="reference internal" href="#pointing-significance">pointing.significance</a>, <a class="reference internal" href="#pointing-radius">pointing.radius</a>,
<a class="reference internal" href="#pointing-exposureclip">pointing.exposureclip</a>, and <a class="reference internal" href="#pointing-method">pointing.method</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="pointing-tolerance"><strong>pointing.tolerance</strong></p>
</td>
<td><div class="line-block">
<div class="line">[pointing]</div>
<div class="line">tolerance=&lt;X&gt;</div>
</div>
</td>
<td><p>Control how close (relative to the beam FWHM) the telescope pointing must
be to its target position for determining photometry.  A distance of 1/5
beams can result in a 10% degradation on the boundaries, while the signal
would degrade by 25% at 1/3 beams distance.  This setting has no effect
outside of photometry reductions.  See <a class="reference internal" href="#phases">phases</a> and <a class="reference internal" href="#chopped">chopped</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="positions-smooth"><strong>positions.smooth</strong></p>
</td>
<td><div class="line-block">
<div class="line">[positions]</div>
<div class="line">smooth=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify that the telescope encoder data should be smoothed with a time
window X seconds wide in order to minimize the effects on encoder noise
on the calculation of scanning speeds and accelerations.  These
calculations may result in data being discarded, and are used in
determining the optimal downsampling rates.  See <a class="reference internal" href="#aclip">aclip</a>, <a class="reference internal" href="#vclip">vclip</a> and
<a class="reference internal" href="#downsample">downsample</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="projection"><strong>projection</strong></p>
</td>
<td><p>projection=&lt;name&gt;</p></td>
<td><p>Choose a map projection to use.  The following projections are available:</p>
<ul class="simple">
<li><p><em>SFL</em>: Sanson-Flamsteed</p></li>
<li><p><em>SIN</em>: Slant Orthographic</p></li>
<li><p><em>TAN</em>: Gnomonic</p></li>
<li><p><em>ZEA</em>: Zenithal Equal Area</p></li>
<li><p><em>MER</em>: Mercator</p></li>
<li><p><em>CAR</em>: Plate-Carree</p></li>
<li><p><em>AIT</em>: Hammer-Aitoff</p></li>
<li><p><em>GLS</em>: Global Sinusoidal</p></li>
<li><p><em>STG</em>: Stereographic</p></li>
<li><p><em>ARC</em>: Zenithal Equidistant</p></li>
</ul>
<p>See <a class="reference internal" href="#system">system</a>, <a class="reference internal" href="#grid">grid</a> and <a class="reference internal" href="#map-size">map.size</a>.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="pwv41k">
<div class="line"><strong>pwv41k</strong></div>
<div class="line">Telescope: SOFIA</div>
</div>
</td>
<td><p>pwv41k=&lt;X&gt;</p></td>
<td><p>Set a typical PWV value to X microns at 41k feet altitude.  See
<a class="reference internal" href="#tau-pwvmodel">tau.pwvmodel</a> and <a class="reference internal" href="#pwvscale">pwvscale</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="pwvscale">
<div class="line"><strong>pwvscale</strong></div>
<div class="line">Telescope: SOFIA</div>
</div>
</td>
<td><p>pwvscale=&lt;X&gt;</p></td>
<td><p>The typical water vapor scale height (kft) around 41 kilofeet altitude.
See <a class="reference internal" href="#tau-pwvmodel">tau.pwvmodel</a> and <a class="reference internal" href="#pwv41k">pwv41k</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="radec">
<div class="line"><strong>radec</strong></div>
<div class="line">Sets: system=equatorial</div>
</div>
</td>
<td><p>radec={True, False}</p></td>
<td><p>Reduce using equatorial coordinates for mapping (default).  See <a class="reference internal" href="#altaz">altaz</a>
and <a class="reference internal" href="#system">system</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="range"><strong>range</strong></p>
</td>
<td><div class="line-block">
<div class="line">[range]</div>
<div class="line">value=&lt;min&gt;:&lt;max&gt;</div>
</div>
</td>
<td><p>Set the acceptable range of data (in units it is stored).  Values outside
of this range will be flagged, and pixels that are consistent offenders
will be removed from the reduction (as set by <a class="reference internal" href="#range-flagfraction">range.flagfraction</a>.  See
<a class="reference internal" href="#dataunit">dataunit</a>, and <a class="reference internal" href="#range-flagfraction">range.flagfraction</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="range-flagfraction"><strong>range.flagfraction</strong></p>
</td>
<td><div class="line-block">
<div class="line">[range]</div>
<div class="line">flagfraction=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify the maximum fraction of samples for which a channel can be out of
range (as set by <a class="reference internal" href="#range">range</a>) before that channel is flagged and removed from
the reduction.  See <a class="reference internal" href="#range">range</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="rcp"><strong>rcp</strong></p>
</td>
<td><div class="line-block">
<div class="line">[rcp]</div>
<div class="line">value=&lt;filename&gt;</div>
</div>
</td>
<td><p>Use the RCP file from &lt;filename&gt;.  RCP files can be produces by the
<a class="reference internal" href="#pixelmap">pixelmap</a> option from scans and for certain instruments, when the
observation moves a bright source over all pixels.  For rectangular
arrays, pixel positions can also be calculated on a regular grid using
<a class="reference internal" href="#pixelsize">pixelsize</a> and <a class="reference internal" href="#pcenter">pcenter</a>.  See <a class="reference internal" href="#pixelmap">pixelmap</a>, <a class="reference internal" href="#pixelsize">pixelsize</a>, and <a class="reference internal" href="#pcenter">pcenter</a></p></td>
</tr>
<tr class="row-odd"><td><p id="rcp-center"><strong>rcp.center</strong></p>
</td>
<td><div class="line-block">
<div class="line">[rcp]</div>
<div class="line">center=&lt;x&gt;,&lt;y&gt;</div>
</div>
</td>
<td><p>Define the center RCP position at x, y in arcseconds.  Centering takes
place immediately after the parsing of RCP data.  See <a class="reference internal" href="#rcp">rcp</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="rcp-gains"><strong>rcp.gains</strong></p>
</td>
<td><div class="line-block">
<div class="line">[rcp]</div>
<div class="line">gains={True, False}</div>
</div>
</td>
<td><p>Calculate coupling efficiencies using gains from the RCP files.
Otherwise, uniform coupling is assumed with sky noise gains from the
<a class="reference internal" href="#pixeldata">pixeldata</a> file.  See <a class="reference internal" href="#rcp">rcp</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="rcp-rotate"><strong>rcp.rotate</strong></p>
</td>
<td><div class="line-block">
<div class="line">[rcp]</div>
<div class="line">rotate=&lt;X&gt;</div>
</div>
</td>
<td><p>Rotate the RCP positions by X degrees (anti-clockwise).  Rotations take
place after centering (if specified).  See <a class="reference internal" href="#rcp">rcp</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="rcp-zoom"><strong>rcp.zoom</strong></p>
</td>
<td><div class="line-block">
<div class="line">[rcp]</div>
<div class="line">zoom=&lt;X&gt;</div>
</div>
</td>
<td><p>Zoom (rescale) the RCP position data by the scaling factor X.  Rescaling
takes place after the centering (if defined).  See <a class="reference internal" href="#rcp">rcp</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="recall"><strong>recall</strong></p>
</td>
<td><p>recall=&lt;key1&gt;,&lt;key2&gt;,…</p></td>
<td><p>Undo <a class="reference internal" href="#forget">forget</a>, and reinstates &lt;key&gt; to its old value.  See <a class="reference internal" href="#forget">forget</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="regrid"><strong>regrid</strong></p>
</td>
<td><p>regrid=&lt;X&gt;</p></td>
<td><p>Re-grid the final map to a different grid than that used during the
reduction where X is the final image pixel size in arcseconds.  See
<a class="reference internal" href="#grid">grid</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="resolution"><strong>resolution</strong></p>
</td>
<td><p>resolution=&lt;X&gt;</p></td>
<td><p>Define the resolution of the instrument.  For single color imaging
arrays, this is equivalent to <a class="reference internal" href="#beam">beam</a> with X specifying the instrument’s
main beam FWHM in arcseconds.  Other instruments (e.g. heterodyne
receivers) may interpret ‘resolution’ differently.  See <a class="reference internal" href="#beam">beam</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="roll">
<div class="line"><strong>roll</strong></div>
<div class="line">Instrument: HAWC+</div>
<div class="line">Alias: correlated.roll</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[roll]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Remove correlations with the second-derivative of the aircraft roll angle
(roll-type accelerations).  See <a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="rotation"><strong>rotation</strong></p>
</td>
<td><div class="line-block">
<div class="line">[rotation]</div>
<div class="line">value=&lt;X&gt;</div>
</div>
</td>
<td><p>Define the instrument rotation X in degrees if applicable.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="rotation-sub">
<div class="line"><strong>rotation.&lt;sub&gt;</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[rotation]</div>
<div class="line">&lt;sub&gt;=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify subarray rotations X (degrees) where &lt;sub can be R0, R1, T0,
and/or T1.</p></td>
</tr>
<tr class="row-odd"><td><p id="rounds"><strong>rounds</strong></p>
</td>
<td><p>rounds=&lt;N&gt;</p></td>
<td><p>Iterate N times.  You may want to increase the number of default
iterations either to recover more extended emission (e.g. when <a class="reference internal" href="#extended">extended</a>
is set), or to go deeper (especially when the <a class="reference internal" href="#faint">faint</a> or <a class="reference internal" href="#deep">deep</a> options are
used).  See <a class="reference internal" href="#id4">iteration</a>, <a class="reference internal" href="#extended">extended</a>, <a class="reference internal" href="#faint">faint</a>, and <a class="reference internal" href="#deep">deep</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="rows">
<div class="line"><strong>rows</strong></div>
<div class="line">Instrument: HAWC+</div>
<div class="line">Alias:  correlated.rows</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[rows]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Decorrelate on detector rows, or set options for it.  See
<a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="rtoc">
<div class="line"><strong>rtoc</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><p>rtoc={True, False}</p></td>
<td><p>Instruct SOFSCAN to reference maps to Real-Time Object Coordinates (RTOC)
for sidereal and non-sideral sources alike.  Normally, sidereal object
coordinates are determined via the header keywords OBSRA/OBDEC or
OBJRA/OBJDEC.  However, these were not always filled correctly during the
2016 October flights, so this option provides a workaround in those
scans.</p></td>
</tr>
<tr class="row-even"><td><p id="scale"><strong>scale</strong></p>
</td>
<td><div class="line-block">
<div class="line">[scale]</div>
<div class="line">value={&lt;X&gt;, &lt;filename&gt;}</div>
</div>
</td>
<td><p>Set the calibration scaling of the data.  The following values are
available:</p>
<ul class="simple">
<li><p><em>X</em>: An explicit scaling value X, by which the entire scan data is
scaled.</p></li>
<li><p><em>filename</em>: The name of a calibration file which among other things,
contains the ISO timestamp and the corresponding calibration values for</p></li>
</ul>
<p>Note: not all instruments support the &lt;filename&gt; value.  See <a class="reference internal" href="#tau">tau</a>, <a class="reference internal" href="#gain">gain</a>,
<a class="reference internal" href="#invert">invert</a>, and <a class="reference internal" href="#jackknife">jackknife</a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p id="scale-grid"><strong>scale.grid</strong></p>
</td>
<td><div class="line-block">
<div class="line">[scale]</div>
<div class="line">grid=&lt;X&gt;</div>
</div>
</td>
<td><p>The grid resolution in arcseconds for which the <a class="reference internal" href="#scale">scale</a> value was
derived.  If set, this correctly conserves flux values if <a class="reference internal" href="#grid">grid</a> is
set to a different value.</p></td>
</tr>
<tr class="row-even"><td><p id="scanmaps"><strong>scanmaps</strong></p>
</td>
<td><p>scanmaps={True, False}</p></td>
<td><p>When specified, a map will be written for each scan (every time it is
solved), under the name ‘scan-&lt;scanno&gt;.fits’ in the usual output path.
Best to use as:</p>
<div class="line-block">
<div class="line">[iteration]</div>
<div class="line">[[final]]</div>
<div class="line">scanmaps=True</div>
</div>
<p>To avoid unnecessary writing of scan maps for every iteration.  See
<a class="reference internal" href="#final">final</a> and <a class="reference internal" href="#source">source</a>.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="scanpol">
<div class="line"><strong>scanpol</strong></div>
<div class="line">Instrument: HAWC+</div>
<div class="line">Sets: config=scanpol.cfg</div>
</div>
</td>
<td><p>scanpol={True, False}</p></td>
<td><p>Use for scanning polarimetry scans with HAWC+.  Reads and applies the
‘scanpol.cfg’ configuration file.</p></td>
</tr>
<tr class="row-even"><td><p id="scramble"><strong>scramble</strong></p>
</td>
<td><p>scramble={True, False}</p></td>
<td><p>Make a map with inverted scanning offsets.  Under the typical scanning
patterns, this will not produce a coherent source.  Therefore, it is a
good method for checking on the noise properties of deep maps.  The
method essentially smears the source flux all over the map.  While not as
good as <a class="reference internal" href="#jackknife">jackknife</a> for producing pure noise maps, <a class="reference internal" href="#jackknife">jackknife</a> requires a
large number of scans for robust results (because of the random
inversion), whereas ‘scramble’ can be used also for few, or even single
scans to nearly the same effect.</p></td>
</tr>
<tr class="row-odd"><td><p id="segment"><strong>segment</strong></p>
</td>
<td><p>segment=&lt;X&gt;</p></td>
<td><p>Break long integrations into shorter ones, with a maximum duration of X
seconds.  It is the complement option to <a class="reference internal" href="#subscan-merge">subscan.merge</a>, which does the
opposite.  ‘segment’ can also be used together with <a class="reference internal" href="#subscan-split">subscan.split</a> to
break the shorter segments into separate scans altogether.</p></td>
</tr>
<tr class="row-even"><td><p id="serial"><strong>serial</strong></p>
</td>
<td><div class="line-block">
<div class="line">[serial]</div>
<div class="line">[[&lt;scan_range&gt;]]</div>
<div class="line">&lt;key&gt;=&lt;value&gt;</div>
<div class="line">…</div>
</div>
</td>
<td><p>Specify settings to apply when the scan’s serial number falls within a
specified range.  &lt;scan_range&gt; may be specified as:</p>
<ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">*</span></code>: always</p></li>
<li><p>a:b: Falls between the range (a, b)</p></li>
<li><p>&gt;X: After serial number X</p></li>
<li><p>&gt;=X: From serial number X</p></li>
<li><p>&lt;X: Before serial number X</p></li>
<li><p>&lt;=X: Before and up to serial number X</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p id="shift"><strong>shift</strong></p>
</td>
<td><p>shift=&lt;X&gt;</p></td>
<td><p>Shift the data by X seconds to the frame headers.  It can be used to
diagnose or correct for timing problems.</p></td>
</tr>
<tr class="row-even"><td><p id="sigmaclip"><strong>sigmaclip</strong></p>
</td>
<td><p>sigmaclip={n, True,False}</p></td>
<td><p>Removes frames that are outside of the permissible scanning speed range
by iteratively remove speeds that are <code class="xref py py-obj docutils literal notranslate"><span class="pre">n</span></code> times the
standard deviation away from the median speed value. If <code class="xref py py-obj docutils literal notranslate"><span class="pre">simgaclip</span></code> is
set to True <code class="xref py py-obj docutils literal notranslate"><span class="pre">n</span></code> defaults to 5.</p></td>
</tr>
<tr class="row-odd"><td><p id="signal-response"><strong>signal-response</strong></p>
</td>
<td><p>signal-response={True, False}</p></td>
<td><p>This is a diagnostic option and affects the log output of decorrelation
steps.  When set, each decorrelation step will produce a sequence of
numbers, corresponding to the normalized covariances of the detector
signals in each correlated mode in the modality.  The user may take this
number as an indication of the importance of each type of correlated
signal, and make decisions as to whether a decorrelation step is truly
necessary.  Values close to 1.0 indicate signals that are (almost)
perfectly correlated, whereas values near zero are indicative of
negligible corrections.  See <a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a> and <a class="reference internal" href="#ordering">ordering</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="skydip">
<div class="line"><strong>skydip</strong></div>
<div class="line">Sets: source.type=skydip</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[skydip]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Reduce skydip data instead of trying to make in impossibly large map out
of it.  This option is equivalent to specifying ‘source.type=skydip’
which is activated conditionally instead of an alias.</p></td>
</tr>
<tr class="row-odd"><td><p id="skydip-elrange"><strong>skydip.elrange</strong></p>
</td>
<td><div class="line-block">
<div class="line">[skydip]</div>
<div class="line">elrange=&lt;min&gt;:&lt;max&gt;</div>
</div>
</td>
<td><p>Set the elevation range (degrees) to use for fitting the skydip model.
In some cases, either the data may be corrupted at low or high
elevations, or both.  This is a useful option to restrict the skydip data
to the desired elevation range.  Use with caution to keep the skydip
results robust.  See <a class="reference internal" href="#skydip">skydip</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="skydip-fit"><strong>skydip.fit</strong></p>
</td>
<td><div class="line-block">
<div class="line">[skydip]</div>
<div class="line">fit=&lt;p1&gt;,&lt;p2&gt;,…</div>
</div>
</td>
<td><p>Specify the list of parameters to fit for the skydip model.  The standard
model is:</p>
<blockquote>
<div><p>y(EL) = kelvin * tsky * (1-exp(-tau/sin(EL))) + offset</p>
</div></blockquote>
<p>where parameters (&lt;pN&gt;) may be:</p>
<ul class="simple">
<li><p><em>kelvin</em>: conversion from Kelvin to dataunits.  See <a class="reference internal" href="#kelvin">kelvin</a>, <a class="reference internal" href="#dataunit">dataunit</a>,
and <a class="reference internal" href="#k2jy">k2jy</a>.</p></li>
<li><p><em>tsky</em>: sky temperature (in Kelvins).  See <a class="reference internal" href="#skydip-tsky">skydip.tsky</a>.</p></li>
<li><p><em>tau</em>: the in band zenith opacity.  See <a class="reference internal" href="#skydip-tau">skydip.tau</a>.</p></li>
<li><p><em>offset</em>: an offset in dataunits.  See <a class="reference internal" href="#skydip-offset">skydip.offset</a>.</p></li>
</ul>
<p>The default is to fit ‘kelvin’, ‘tau’, and ‘offset’, and assume that the
sky temperature is close to ambient.  The assumption os the sky
temperature is not critical so long as the conversion factor ‘kelvin’ is
fitted to absorb an overall scaling.</p>
</td>
</tr>
<tr class="row-odd"><td><p id="skydip-grid"><strong>skydip.grid</strong></p>
</td>
<td><div class="line-block">
<div class="line">[skydip]</div>
<div class="line">grid=&lt;X&gt;</div>
</div>
</td>
<td><p>Set the elevation binning (arcseconds) of the skydip data.  See <a class="reference internal" href="#grid">grid</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="skydip-offset"><strong>skydip.offset</strong></p>
</td>
<td><div class="line-block">
<div class="line">[skydip]</div>
<div class="line">offset=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify the initial offset value in <a class="reference internal" href="#dataunit">dataunit</a>.  See <a class="reference internal" href="#skydip-fit">skydip.fit</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="skydip-tau"><strong>skydip.tau</strong></p>
</td>
<td><div class="line-block">
<div class="line">[skydip]</div>
<div class="line">tau=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify the initial in-band zenith opacity.  See <a class="reference internal" href="#skydip-fit">skydip.fit</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="skydip-tsky"><strong>skydip.tsky</strong></p>
</td>
<td><div class="line-block">
<div class="line">[skydip]</div>
<div class="line">tsky=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify the initial sky temperature in Kelvins.  By default, the ambient
temperature (if available) will be used.  See <a class="reference internal" href="#skydip-fit">skydip.fit</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="smooth"><strong>smooth</strong></p>
</td>
<td><div class="line-block">
<div class="line">[smooth]</div>
<div class="line">value={&lt;X&gt;, minimal, halfbeam, 2/3beam, beam, optimal}</div>
</div>
</td>
<td><p>Smooth the map by X arcsec FWHM beam.  Smoothing helps improve visual
appearance, but is also useful during reduction to create more
redundancy in the data in the intermediate reduction steps.  Also,
smoothing by the beam is optimal for point source extraction from deep
fields.  Therefore, beam smoothing is default with the <a class="reference internal" href="#deep">deep</a> option
(see ‘deep.cfg’).  Typically you want to use some smoothing during
reduction, and you may want to turn it off in the final map.  Such a
typical configuration may look like:</p>
<div class="line-block">
<div class="line">smooth=9.0  # 9” smoothing at first</div>
<div class="line">[iteration]</div>
<div class="line">[[2]]</div>
<div class="line">smooth=12.0  # smooth more later</div>
<div class="line">[[last]]</div>
<div class="line">forget=smooth  # no smoothing at end</div>
</div>
<p>Other than specifying explicit values, you can use the predefined
values: ‘minimal’, ‘halfbeam’, ‘2/3beam’, ‘beam’, or ‘optimal’.  See
<a class="reference internal" href="#smooth-optimal">smooth.optimal</a>, <a class="reference internal" href="#final">final</a>, <a class="reference internal" href="#source-filter">source.filter</a>, and <a class="reference internal" href="#grid">grid</a>.</p>
</td>
</tr>
<tr class="row-even"><td><div class="line-block" id="smooth-external">
<div class="line"><strong>smooth.external</strong></div>
<div class="line"><em>(Not implemented yet)</em></div>
</div>
</td>
<td><div class="line-block">
<div class="line">[smooth]</div>
<div class="line">external={True, False}</div>
</div>
</td>
<td><p>Do not actually perform the smoothing set by the <a class="reference internal" href="#smooth">smooth</a> option.
Instead, use the <a class="reference internal" href="#smooth">smooth</a> value as an assumption in calculating
smoothing-related corrections.  The option is designed for the reduction
of very large datasets, which have to be “split” into smaller,
manageable sized chunks.  The unsmoothed outputs can be coadded and then
smoothed to the desired amount before feeding the result back for further
rounds of reduction via <a class="reference internal" href="#source-model">source.model</a>.  See <a class="reference internal" href="#smooth">smooth</a>, <a class="reference internal" href="#subscan-split">subscan.split</a>,
and <a class="reference internal" href="#source-model">source.model</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="smooth-optimal"><strong>smooth.optimal</strong></p>
</td>
<td><div class="line-block">
<div class="line">[smooth]</div>
<div class="line">optimal=&lt;X&gt;</div>
</div>
</td>
<td><p>Define the optimal smoothing for point-source extraction if it is
different from beam-smoothing.  For arrays whose detectors are completely
independent, beam-smoothing produces the optimal signal-to-noise for
point sources.  However, if the detectors are not independent, the
optimal smoothing may vary.  This is expected to be the case for some
filled arrays, where one expects a certain level of beam-sized photon
correlations.  See <a class="reference internal" href="#smooth">smooth</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="source"><strong>source</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Solve for the source model, or set options for it.</p></td>
</tr>
<tr class="row-odd"><td><p id="source-correct"><strong>source.correct</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Correct peak fluxes for the point source filtering effect of the various
reduction steps (default).  The filtering of point sources is carefully
calculated through the reduction steps, this with the correction scheme,
point source fluxes ought to stay constant (within a few percent)
independent of the pipeline configuration.  See <a class="reference internal" href="#faint">faint</a>, <a class="reference internal" href="#deep">deep</a>, <a class="reference internal" href="#bright">bright</a>,
<a class="reference internal" href="#ordering">ordering</a>, and <a class="reference internal" href="#whiten">whiten</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="source-coupling"><strong>source.coupling</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">[[coupling]]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>If present in the configuration, (re-)calculate point source coupling
efficiencies (the ratio of point-source and sky-noise response) as part
of the source modeling step.  This is only really useful for bright
sources.  See <a class="reference internal" href="#source-coupling-range">source.coupling.range</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="source-coupling-range"><strong>source.coupling.range</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">[[coupling]]</div>
<div class="line">range=&lt;min&gt;:&lt;max&gt;</div>
</div>
</td>
<td><p>Specify the range of acceptable coupling efficiencies relative to the
“average” of all pixels when <a class="reference internal" href="#source-coupling">source.coupling</a> is used to calculate
these based on bright source responses.  Pixels with efficiencies outside
of the specified range will be flagged and ignored from further source
modeling steps until these flags are cleared again in the reduction.
See <a class="reference internal" href="#correlated-modality-gainrange">correlated.&lt;modality&gt;.gainrange</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="source-coupling-s2n"><strong>source.coupling.s2n</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">[[coupling]]</div>
<div class="line">s2n=&lt;min&gt;:&lt;max&gt;</div>
</div>
</td>
<td><p>Set the acceptable range of S/N required in the map for using the
position for estimating detector coupling gains when the
<a class="reference internal" href="#source-coupling">source.coupling</a> option is enabled.</p></td>
</tr>
<tr class="row-odd"><td><p id="source-delete-scan"><strong>source.delete_scan</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">delete_scan=&lt;True,False&gt;</div>
</div>
</td>
<td><p>If True, and updating the source in parallel is also True (see
<a class="reference internal" href="#parallel-source">parallel.source</a>, delete the individual scan source model once all
required processing has been performed.  This is recommended when
dealing with large sets of data to reduce memory pressure.</p></td>
</tr>
<tr class="row-even"><td><p id="source-despike"><strong>source.despike</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">[[despike]]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>If present in the configuration, despike the scan maps using an S/N
threshold of <a class="reference internal" href="#source-despike-level">source.despike.level</a>.  Clearly, this should be higher
than the most significant source in your map.  Therefore, it is only
really useful in <a class="reference internal" href="#deep">deep</a> model, where 5-signa despiking is default.
See ‘deep.cfg’.</p></td>
</tr>
<tr class="row-odd"><td><p id="source-despike-level"><strong>source.despike.level</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">[[despike]]</div>
<div class="line">level=&lt;X&gt;</div>
</div>
</td>
<td><p>Set the source despiking level to an S/N of X.  You probably want to set
X to be no more than about 10 times the most significant source in your
map.  See <a class="reference internal" href="#source-despike">source.despike</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="source-filter"><strong>source.filter</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">[[filter]]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>Filter extended structures.  By default, the filter will skip over map
pixels that are above the <a class="reference internal" href="#source-filter-blank">source.filter.blank</a> S/N level (&gt;6 by
default).  Thus, any structure above this significance level will remain
unfiltered.  Filtering is useful to get deeper in the map when retaining
the very faint extended structures is not an issue.  Filtering above 5
times the source size (see sourcesize_`) is default when the filter is
used.</p></td>
</tr>
<tr class="row-odd"><td><p id="source-filter-blank"><strong>source.filter.blank</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">[[filter]]</div>
<div class="line">blank=&lt;X&gt;</div>
</div>
</td>
<td><p>Set the blanking level of the large-scale structure (LSS) filter.  Any
map pixels with an S/N above the specified level will be skipped over,
and therefore remain unaffected by the filter.  See
<a class="reference internal" href="#source-filter-fwhm">source.filter.fwhm</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="source-filter-fwhm"><strong>source.filter.fwhm</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">[[filter]]</div>
<div class="line">fwhm=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify the Gaussian FWHM of the large-scale structure (LSS) filter.
Values greater than about 5-times the beam size are recommended in order
to avoid the unnecessary filtering of compact or point sources.  See
<a class="reference internal" href="#source-filter-blank">source.filter.blank</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="source-filter-type"><strong>source.filter.type</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">[[filter]]</div>
<div class="line">type={convolution, fft}</div>
</div>
</td>
<td><p>Specify the type of the large-scale structure filter.  Convolution is
more accurate but may be slower than FFT, especially for very large maps.</p></td>
</tr>
<tr class="row-even"><td><p id="source-fixedgains"><strong>source.fixedgains</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">fixedgains={True, False}</div>
</div>
</td>
<td><p>Specify the use of fixed source gains (e.g. from an RCP file).  Normally,
SOFSCAN calculates source gains based on the correlated noise response
and the specified point source couplings ( e.g. as derived from the two
gain columns of RCP files).  This option can be used to treat the
supplied source gains as static (i.e. decoupled from the sky-noise
gains).  See <a class="reference internal" href="#source-coupling">source.coupling</a> and <a class="reference internal" href="#pixelmap">pixelmap</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="source-flatfield">
<div class="line"><strong>source.flatfield</strong></div>
<div class="line">Sets: config=flatfield.cfg</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">flatfield={True, False}</div>
</div>
</td>
<td><p>Use for deriving flatfields based on response to a source.  For it to
work effectively, you need a scan that moves bright source emission over
all fields.  It is a soft option, defined in ‘default.cfg’, and it
results in loading ‘flatfield.cfg’ for configuring optimal settings for
source gain derivation.</p></td>
</tr>
<tr class="row-even"><td><p id="source-intermediates"><strong>source.intermediates</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">intermediates={True, False}</div>
</div>
</td>
<td><p>Write the maps made during the reduction into ‘intermediate.fits’ (inside
the SOFSCAN output directory).  This allows the user to keep an eye on
the evolution of maps iteration-by-iteration.  Each iteration will
overwrite this temporary file, and it will be erased at the end of the
reduction.</p></td>
</tr>
<tr class="row-odd"><td><p id="source-mem"><strong>source.mem</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">mem={True, False}</div>
</div>
</td>
<td><p>Use the maximum-entropy method (MEM) correction to the source map.  The
MEM requirement suppresses some of the noise on the small spatial scales,
and pushes solutions closer to the zero level for low S/N structures.
This increases contrast between significant source structures and
background.  It is similar to the MEM used in radio interferometry,
although there are key differences.  For one, interferometry measures
components in the uv-plane, and MEM corrections are applied in xy
coordinate space.  For SOFSCAN, both the solutions and corrections are
applied in the same configuration space.  See <a class="reference internal" href="#source-mem-lambda">source.mem.lambda</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="source-mem-lambda"><strong>source.mem.lambda</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">[[mem]]</div>
<div class="line">lambda=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify the desirability of MEM solutions relative to the
maximum-likelihood solution.  Typical values of lambda are in the range
0.1 to 1, but higher or lower values may be set to give extra weight
towards one type of solution.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="source-model">
<div class="line"><strong>source.model</strong></div>
<div class="line"><em>(Not implemented yet)</em></div>
</div>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">model=&lt;filename&gt;</div>
</div>
</td>
<td><p>Specify an initial source model to use in the reduction.  This may be
useful when reducing large datasets where all data cannot be reduced
together.  Instead, the data can be split into manageable sized chunks
which are reduced separately.  The results can be coadded to create a
composite map.  This may be further manipulated (e.g. S/N clipping,
smoothing, filtering, etc.) before feeding back into another round of
reduction.  Clipping and blanking settings are usually altered when an
a-priori source-model is thus defined.  See <a class="reference internal" href="#blank">blank</a>, <a class="reference internal" href="#clip">clip</a>, and
<a class="reference internal" href="#smooth-external">smooth.external</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="source-nosync"><strong>source.nosync</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">nosync={True, False}</div>
</div>
</td>
<td><p>Do not bother syncing the source solution back into the raw timestream.
This saves a bit of time in the last round of most reductions when the
<a class="reference internal" href="#source">source</a> is the last step in the pipeline, and the residuals are not used
otherwise (e.g. by <a class="reference internal" href="#write-covar">write.covar</a>, <a class="reference internal" href="#write-ascii">write.ascii</a> or <a class="reference internal" href="#write-spectrum">write.spectrum</a>).</p></td>
</tr>
<tr class="row-odd"><td><p id="source-redundancy"><strong>source.redundancy</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">redundancy=&lt;N&gt;</div>
</div>
</td>
<td><p>Specify the minimum redundancy (N samples) that each scan-map pixel
output ought to have in order to be considered valid.  Pixels with
redundancies smaller than this critical value will be flagged and not
used in the composite source making.</p></td>
</tr>
<tr class="row-even"><td><p id="source-sign"><strong>source.sign</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">sign=&lt;spec&gt;</div>
</div>
</td>
<td><p>Most astronomical source have a definite signedness.  For continuum, we
expect to see emission, except when looking at SZ clusters at 2-mm, which
have a unique negative signature.  SOFSCAN can do a better job if the
signature of the source is predetermined.  The sign specification &lt;spec&gt;
can be:</p>
<ul class="simple">
<li><p><em>positive</em>: +, positive, plus, pos, &gt;0</p></li>
<li><p><em>negative</em>: -, negative, minus, neg, &lt;0</p></li>
<li><p><em>any</em>: <code class="xref py py-obj docutils literal notranslate"><span class="pre">*</span></code>, any, 0</p></li>
</ul>
<p>When not set, the default is to assume that sources be may of either sign
(same as <code class="xref py py-obj docutils literal notranslate"><span class="pre">*</span></code>, any, or 0).  The signature determines how source clipping
and blanking are implemented.  See <a class="reference internal" href="#clip">clip</a> and <a class="reference internal" href="#blank">blank</a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p id="source-type"><strong>source.type</strong></p>
</td>
<td><div class="line-block">
<div class="line">[source]</div>
<div class="line">type=&lt;type&gt;</div>
</div>
</td>
<td><p>By default, SOFSCAN will try to make a map from the data.  However, some
instruments may take data that is analyzed differently.  For example, you
may want to use SOFSCAN to reduce pixels maps (to determine the position
of pixels on the sky), or skydips (to derive appropriate opacities), or
do point source photometry.  Presently, the following source types
(&lt;type&gt;) are supported for all instruments:</p>
<ul class="simple">
<li><p><em>map</em>: Make a map of the source (default)</p></li>
<li><p><em>cube</em>: Make a spectral cube</p></li>
<li><p><em>skydip</em>: Reduce skydips and determine opacities by fitting a model.</p></li>
<li><p><em>pixelmap</em>: Create individual maps for every pixel, and use it to
determine their location in the field of view.</p></li>
<li><p><em>None</em>: Do not generate a source model.  Useful for lab/diagnostic
reductions.</p></li>
</ul>
<p>Note: you may also just use <a class="reference internal" href="#skydip">skydip</a> and <a class="reference internal" href="#pixelmap">pixelmap</a> shorthands to the same
effect.</p>
</td>
</tr>
<tr class="row-even"><td><p id="sourcesize"><strong>sourcesize</strong></p>
</td>
<td><p>sourcesize=&lt;X&gt;</p></td>
<td><p>This option can be used instead of <a class="reference internal" href="#extended">extended</a> in conjunction with <a class="reference internal" href="#faint">faint</a>
or <a class="reference internal" href="#deep">deep</a> to specify the typical size of sources (FWHM in arcseconds) that
are expected.  The reduction then allows filtering structures that are
much larger than the specified source size.  If <a class="reference internal" href="#sourcesize">sourcesize</a> or <a class="reference internal" href="#extended">extended</a>
are not specified, then point-like compact sources are assumed.  The
source size helps tune the 1/f filter (see <a class="reference internal" href="#drifts">drifts</a>) optimally.  The 1/f
timescale is set to be the larger of the <a class="reference internal" href="#stability">stability</a> or 5 times the
typical source crossing time (calculated via <a class="reference internal" href="#sourcesize">sourcesize</a>).  Note that
noise whitening will mute the effect of this settings almost completely.
See <a class="reference internal" href="#faint">faint</a>, <a class="reference internal" href="#extended">extended</a>, and <a class="reference internal" href="#whiten">whiten</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="split">
<div class="line"><strong>split</strong></div>
<div class="line">Sets:</div>
<div class="line">smooth.external=True</div>
<div class="line">[last]</div>
<div class="line">forget=exposureclip</div>
</div>
</td>
<td><p>split={True, False}</p></td>
<td><p>A convenience key for adjusting options for very large data sets which
have to be split into manageable sized chunks in the reduction.  See
<a class="reference internal" href="#smooth-external">smooth.external</a> and <a class="reference internal" href="#source-model">source.model</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="stability"><strong>stability</strong></p>
</td>
<td><p>stability=&lt;X&gt;</p></td>
<td><p>Specify the instrument’s 1/f stability time scale in seconds.  This value
is used for optimmizing reduction parameters when these options are not
explicitly specified (e.g. the filtering timescale for the <a class="reference internal" href="#drifts">drifts</a>
option).  See <a class="reference internal" href="#drifts">drifts</a> and <a class="reference internal" href="#sourcesize">sourcesize</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="subarray">
<div class="line"><strong>subarray</strong></div>
<div class="line">Instrument: HAWC+</div>
</div>
</td>
<td><p>subarray=&lt;sub1&gt;,&lt;sub2&gt;,…</p></td>
<td><p>Restrict the analysis to just the selected subarrays.  For HAWC+, the
&lt;sub?&gt; may contain the subarray IDs: R0, R1, T0, and T1, or R to specify
R0 and R1, or T to specify T0 and T1.</p></td>
</tr>
<tr class="row-even"><td><p id="subscan-merge"><strong>subscan.merge</strong></p>
</td>
<td><div class="line-block">
<div class="line">[subscan]</div>
<div class="line">[[merge]]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Specifies that the integrations (subscans) in a scan should be merged
into a single timestream, will invalid frames filling potential gaps at
the boundaries to ensure proper time-spacing of all data (for time window
processing of FFTs).  See <a class="reference internal" href="#subscan-split">subscan.split</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="subscan-merge-maxgap"><strong>subscan.merge.maxgap</strong></p>
</td>
<td><div class="line-block">
<div class="line">[subscan]</div>
<div class="line">[merge]</div>
<div class="line">maxgap=&lt;X&gt;</div>
</div>
</td>
<td><p>Merging integrations (subscans) will pad gaps between them with invalid
frames as needed.  Use this option to limit how much padding X (seconds)
is allowed.  If the gap between two consecutive subscans is larger than
the maximum gap specified by this option, then the merge will continue in
a separate scan.</p></td>
</tr>
<tr class="row-even"><td><p id="subscan-minlength"><strong>subscan.minlength</strong></p>
</td>
<td><div class="line-block">
<div class="line">[subscan]</div>
<div class="line">minlength=&lt;X&gt;</div>
</div>
</td>
<td><p>Set the minimum length of integrations (subscans) to X seconds.
Integrations shorter than the specified value will be skipped during the
scan reading phase.  Most reductions rely on the background variations to
create signals from which detector gains can be estimated with the
required accuracy.  Very short integrations may not have sufficient
background signals for the robust estimation of gains, and it is thus
best to simply ignore such data.</p></td>
</tr>
<tr class="row-odd"><td><p id="subscan-split"><strong>subscan.split</strong></p>
</td>
<td><div class="line-block">
<div class="line">[subscan]</div>
<div class="line">split={True, False}</div>
</div>
</td>
<td><p>Allow subscans (integrations) to be split into separate scans.  This is
practical to speed up the reduction of single scans with may subscans on
machines with multi-core CPUs, since the reduction does not generally
process integrations in parallel, but nearly always does for scans.  See
<a class="reference internal" href="#subscan-merge">subscan.merge</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="supergalactic">
<div class="line"><strong>supergalactic</strong></div>
<div class="line">Sets: system=supergalactic</div>
</div>
</td>
<td><p>supergalactic={True, False}</p></td>
<td><p>Make maps in supergalactic coordinates.  See <a class="reference internal" href="#system">system</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="system"><strong>system</strong></p>
</td>
<td><p>system=&lt;type&gt;</p></td>
<td><p>Select the coordinate system for mapping.  Available &lt;type&gt; values are:</p>
<ul class="simple">
<li><p><em>equatorial</em> (default)</p></li>
<li><p><em>horizontal</em></p></li>
<li><p><em>ecliptic</em></p></li>
<li><p><em>galactic</em></p></li>
<li><p><em>supergalactic</em></p></li>
<li><p><em>focalplane</em></p></li>
<li><p><em>native</em></p></li>
</ul>
<p>Most of these values are aliased to simply keys.  See <a class="reference internal" href="#altaz">altaz</a>,
<a class="reference internal" href="#equatorial">equatorial</a>, <a class="reference internal" href="#ecliptic">ecliptic</a>, <a class="reference internal" href="#galactic">galactic</a>, <a class="reference internal" href="#supergalactic">supergalactic</a>, <a class="reference internal" href="#radec">radec</a>, <a class="reference internal" href="#horizontal">horizontal</a>,
and <a class="reference internal" href="#focalplane">focalplane</a>.</p>
</td>
</tr>
<tr class="row-even"><td><p id="tau"><strong>tau</strong></p>
</td>
<td><div class="line-block">
<div class="line">[tau]</div>
<div class="line">value={&lt;X&gt;, &lt;spec&gt;}</div>
</div>
</td>
<td><p>Specify an in-band zenith opacity value to use (&lt;X&gt;).  For some
instruments, the &lt;spec&gt; may be used to specify a filename with lookup
information, or tau in another band (see <a class="reference internal" href="#id5">tau.&lt;?&gt;</a>) with an appropriate
scaling relation to in-band values (see <a class="reference internal" href="#tau-a">tau.&lt;?&gt;.a</a> and <a class="reference internal" href="#tau-b">tau.&lt;?&gt;.b</a>).</p>
<p>When lookup tables are used, the tau values will be interpolated for each
scan, so long as the scan falls inside the interpolator’s range.
Otherwise, a tau of 0.0 will be used.  For SOFIA instruments, &lt;spec&gt;
may also take the values {atran, pwvmodel}.  Please see
<a class="reference internal" href="#atran-reference">atran.reference</a>, <a class="reference internal" href="#tau-pwvmodel">tau.pwvmodel</a>, and <a class="reference internal" href="#id5">tau.&lt;?&gt;</a> for further details.</p>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="tau-pwvmodel">
<div class="line"><strong>tau.pwvmodel</strong></div>
<div class="line">Telescope: SOFIA</div>
</div>
</td>
<td><div class="line-block">
<div class="line">[tau]</div>
<div class="line">pwvmodel={True, False}</div>
</div>
</td>
<td><p>Estimate a typical PWV value (for opacity correction) based on altitude
alone.  See <a class="reference internal" href="#pwv41k">pwv41k</a> and <a class="reference internal" href="#pwvscale">pwvscale</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="id5"><strong>tau.&lt;?&gt;</strong></p>
</td>
<td><div class="line-block">
<div class="line">[tau]</div>
<div class="line">[[&lt;?&gt;]]</div>
<div class="line">value=&lt;X&gt;</div>
</div>
</td>
<td><p>Specify the tau value for X for &lt;?&gt; where &lt;?&gt; can stand for any
user-specified relation.  Some useful conversion relations are predefined
for certain instruments.  E.g. some typical values may be ‘pwv’
(millimeters of precipitable water vapor).  The values will be scaled to
in-band zenith opacities using the linear scaling relations defined via
the <a class="reference internal" href="#tau-a">tau.&lt;?&gt;.a</a> and <a class="reference internal" href="#tau-b">tau.&lt;?&gt;.b</a> constants.</p></td>
</tr>
<tr class="row-odd"><td><p id="tau-a"><strong>tau.&lt;?&gt;.a</strong></p>
</td>
<td><div class="line-block">
<div class="line">[tau]</div>
<div class="line">[[&lt;?&gt;]]</div>
<div class="line">a=&lt;X&gt;</div>
</div>
</td>
<td><p>Define the scaling term for the opacity measure &lt;?&gt;.  Zenith opacities
are expressed in a linear relationship to some user-defined tau parameter
t as:</p>
<blockquote>
<div><p>tau(&lt;?&gt;) = (a * t) + b</p>
</div></blockquote>
<p>This key sets the linear scaling constant ‘a’ in the above equation,
while <a class="reference internal" href="#tau-b">tau.&lt;?&gt;.b</a> specifies the offset value.</p>
</td>
</tr>
<tr class="row-even"><td><p id="tau-b"><strong>tau.&lt;?&gt;.b</strong></p>
</td>
<td><div class="line-block">
<div class="line">[tau]</div>
<div class="line">[[&lt;?&gt;]]</div>
<div class="line">b=&lt;X&gt;</div>
</div>
</td>
<td><p>Set the offset value in a linear tau scaling relationship.  See
<a class="reference internal" href="#tau-a">tau.&lt;?&gt;.a</a> for details.</p></td>
</tr>
<tr class="row-odd"><td><p id="uniform"><strong>uniform</strong></p>
</td>
<td><p>uniform={True, False}</p></td>
<td><p>Instruct the use of uniform pixel gains initially instead of the values
read from the appropriate pixel data file.  See <a class="reference internal" href="#pixeldata">pixeldata</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="unit"><strong>unit</strong></p>
</td>
<td><p>unit=&lt;name&gt;</p></td>
<td><p>Set the output units to &lt;name&gt;.  You can use either the instrumental
units (e.g. ‘V/beam’ or ‘count/beam’) or the more typical ‘Jy/beam’
(default).  All names must be parseable by the astropy.units.Unit Python
class.  See <a class="reference internal" href="#dataunit">dataunit</a> and <a class="reference internal" href="#jansky">jansky</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="unlock"><strong>unlock</strong></p>
</td>
<td><p>unlock=&lt;key1&gt;,&lt;key2&gt;,…</p></td>
<td><p>Release the lock on a configuration option, allowing it to be changed.
See <a class="reference internal" href="#lock">lock</a> for further details.</p></td>
</tr>
<tr class="row-even"><td><p id="vclip"><strong>vclip</strong></p>
</td>
<td><div class="line-block">
<div class="line">[vclip]</div>
<div class="line">value={auto, &lt;min&gt;:&lt;max&gt;}</div>
</div>
</td>
<td><p>Clip data where the field scan velocity is outside the specified range
(&lt;min&gt;:&lt;max&gt; in arcseconds/second).  The successful disentangling of the
source structures from the various noise terms release on these being
separated in the frequency space.  With typical 1/f type limiting noise,
this is harder when the scan speed is low such that the source signals
occupy the low frequencies.  Therefore, requiring a minimum scanning
speed is a good idea.  Likewise, too high scanning speeds will smear out
sources if the movement between samples is larger than ~1/3 beam.  A
value of ‘auto’ can be specified to set the velocity clipping range
optimally based on the typical scanning speeds.  See <a class="reference internal" href="#vclip-strict">vclip.strict</a>,
<a class="reference internal" href="#aclip">aclip</a>, and <a class="reference internal" href="#resolution">resolution</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="vclip-strict"><strong>vclip.strict</strong></p>
</td>
<td><div class="line-block">
<div class="line">[vclip]</div>
<div class="line">strict={True, False}</div>
</div>
</td>
<td><p>When set, discard any frames outside of the acceptable range of mapping
speeds (as defined by the <a class="reference internal" href="#vclip">vclip</a> option), rather than the default
approach of simply flagging slow motion for source modelling only.</p></td>
</tr>
<tr class="row-even"><td><p id="weighting"><strong>weighting</strong></p>
</td>
<td><div class="line-block">
<div class="line">[weighting]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Derive pixel weights based on the RMS of the unmodelled timestream
signals.</p></td>
</tr>
<tr class="row-odd"><td><p id="weighting-frames"><strong>weighting.frames</strong></p>
</td>
<td><div class="line-block">
<div class="line">[weighting]</div>
<div class="line">[[frames]]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>If configured, calculate time weights in addition to pixel weighting to
allow for non-stationary noise.  See <a class="reference internal" href="#weighting-frames-resolution">weighting.frames.resolution</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="weighting-frames-noiserange"><strong>weighting.frames.noiserange</strong></p>
</td>
<td><div class="line-block">
<div class="line">[weighting]</div>
<div class="line">[[frames]]</div>
<div class="line">noiserange=&lt;min&gt;:&lt;max&gt;</div>
</div>
</td>
<td><p>Set the acceptable range of temporal noise variation.  Standard range
syntax may be used such as wildcards (<code class="xref py py-obj docutils literal notranslate"><span class="pre">*</span></code>) to indicate an open range or
a hyphen (-) instead of a colon (:).  See <a class="reference internal" href="#weighting-noiserange">weighting.noiserange</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="weighting-frames-resolution"><strong>weighting.frames.resolution</strong></p>
</td>
<td><div class="line-block">
<div class="line">[weighting]</div>
<div class="line">[[frames]]</div>
<div class="line">resolution={&lt;X&gt;, auto}</div>
</div>
</td>
<td><p>By default, all exposures are weighted independently.  With this option
set, weights are derived for blocks of exposures spanning X seconds.  The
value ‘auto’ can also be used to match the time-constant to that of
<a class="reference internal" href="#drifts">drifts</a>.  Time weighting is often desired but can cause instabilities
during the reduction, especially if the time-scale is mismatched to other
reduction steps.  Adjust the time scale only if you really understand
what you are doing.</p></td>
</tr>
<tr class="row-even"><td><p id="weighting-method"><strong>weighting.method</strong></p>
</td>
<td><div class="line-block">
<div class="line">[weighting]</div>
<div class="line">method=&lt;name&gt;</div>
</div>
</td>
<td><p>Set the method used for deriving pixel weights from the residuals.  The
following methods (&lt;name&gt;) are available:</p>
<ul class="simple">
<li><p><em>rms</em>: Standard RMS calculation.</p></li>
<li><p><em>robust</em>: Use robust estimates for the standard deviation.</p></li>
<li><p><em>differential</em>: Estimate noise based on pairs of data separated by some
interval.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p id="weighting-noiserange"><strong>weighting.noiserange</strong></p>
</td>
<td><div class="line-block">
<div class="line">[weighting]</div>
<div class="line">noiserange=&lt;min&gt;:&lt;max&gt;</div>
</div>
</td>
<td><p>Specify what range of pixel noises are admissible relative to the median
pixel noise.  Pixels that fall outside of the &lt;min&gt; or &lt;max&gt; will be
flagged.  Standard range syntax may be used such as wildcards (<code class="xref py py-obj docutils literal notranslate"><span class="pre">*</span></code>) to
indicate an open range or a hyphen (-) instead of a colon (:).  See
<a class="reference internal" href="#weighting-frames-noiserange">weighting.frames.noiserange</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="weighting-scans"><strong>weighting.scans</strong></p>
</td>
<td><div class="line-block">
<div class="line">[weighting]</div>
<div class="line">[[scans]]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>If set, each scan gets an assigned weight with which it contributes to
the composite map.  This weight is measured directly from the noise
properties of the produced map.</p></td>
</tr>
<tr class="row-odd"><td><p id="weighting-scans-method"><strong>weighting.scans.method</strong></p>
</td>
<td><div class="line-block">
<div class="line">[weighting]</div>
<div class="line">[[scans]]</div>
<div class="line">method={robust, maximum-likelihood}</div>
</div>
</td>
<td><p>The method by which to calculate the scan weighting.  ‘robust’ method
weights by median(V) / 0.454937, whereas any other method weights by
mean(V) where V is the significance map variance.</p></td>
</tr>
<tr class="row-even"><td><p id="whitelist"><strong>whitelist</strong></p>
</td>
<td><p>whitelist=&lt;key1&gt;, &lt;key2&gt;,…</p></td>
<td><p>Remove any key from the blacklist, allowing it to be set again if
desired.  Whitelisting an option may not set it to its prior value, so
you should explicitly set it again or <a class="reference internal" href="#recall">recall</a> it to it’s prior state.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="whiten">
<div class="line"><strong>whiten</strong></div>
<div class="line">Alias: <a class="reference internal" href="#filter-whiten">filter.whiten</a></div>
</div>
</td>
<td><div class="line-block">
<div class="line">[whiten]</div>
<div class="line">&lt;options…&gt;</div>
</div>
</td>
<td><p>An alias for <a class="reference internal" href="#filter-whiten">filter.whiten</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="whiten-level">
<div class="line"><strong>whiten.level</strong></div>
<div class="line">Alias: <a class="reference internal" href="#filter-whiten-level">filter.whiten.level</a></div>
</div>
</td>
<td><p>whiten.level=&lt;X&gt;</p></td>
<td><p>An alias for <a class="reference internal" href="#filter-whiten-level">filter.whiten.level</a>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block" id="whiten-minchannels">
<div class="line"><strong>whiten.minchannels</strong></div>
<div class="line">Alias: <a class="reference internal" href="#filter-whiten-minchannels">filter.whiten.minchannels</a></div>
</div>
</td>
<td><p>whiten.minchannels=&lt;N&gt;</p></td>
<td><p>An alias for <a class="reference internal" href="#filter-whiten-minchannels">filter.whiten.minchannels</a>.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block" id="whiten-proberange">
<div class="line"><strong>whiten.proberange</strong></div>
<div class="line">Alias: <a class="reference internal" href="#filter-whiten-proberange">filter.whiten.proberange</a></div>
</div>
</td>
<td><p>whiten.proberange=&lt;spec&gt;</p></td>
<td><p>An alias for <a class="reference internal" href="#filter-whiten-proberange">filter.whiten.proberange</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="wiring"><strong>wiring</strong></p>
</td>
<td><p>wiring=&lt;filename&gt;</p></td>
<td><p>This option is commonly used to specify a file containing the wiring
information of the detectors, which can be used to establish the typical
groupings of the instruments.  There is no standard format for the wiring
file (if may vary by instrument), and not all instruments may use such
information.  See <a class="reference internal" href="#pixeldata">pixeldata</a> and <a class="reference internal" href="#rcp">rcp</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="write-ascii"><strong>write.ascii</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">ascii={True, False}</div>
</div>
</td>
<td><p>Write the residual timestreams to an ASCII table.  The file will contain
as many columns as there are pixels in the reduction (see <a class="reference internal" href="#noslim">noslim</a>), each
corresponding to a pixel timestream.  The first row contains the sampling
rate (Hz).  Flagged data is indicated with a NaN character.  See <a class="reference internal" href="#noslim">noslim</a>
and <a class="reference internal" href="#write-spectrum">write.spectrum</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="write-coupling"><strong>write.coupling</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[coupling]]</div>
<div class="line">value=&lt;sig1&gt;, &lt;sig2&gt;,…</div>
</div>
</td>
<td><p>Measure and write coupling gains to the given signals (&lt;sig&gt;).  Coupling
gains are similar to correlation coefficients but normalized differently
so that they can be used directly to remove the correlated signal from
the timestream.  For example:</p>
<blockquote>
<div><p>write.coupling=telescope-x,accel-mag</p>
</div></blockquote>
<p>will write out the coupling gains of each detector to the telescope
azimuth motion (‘telescope-x’) and scalar acceleration (‘accel-mag’).
See <a class="reference internal" href="#correlated-modality">correlated.&lt;modality&gt;</a>.</p>
</td>
</tr>
<tr class="row-even"><td><p id="write-covar"><strong>write.covar</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[covar]]</div>
<div class="line">&lt;value&gt;=&lt;spec1&gt;, &lt;spec2&gt;,…</div>
</div>
</td>
<td><p>Write covariance data.  If no value is specified, the full pixel-to-pixel
covariance data will be writen to a FITS image.  The optional &lt;value&gt; can
specify the ordering of the covariance matrix according to pixel
divisions.  Each group in the pixel division will be blocked together for
easy identification of block-diagonal covariance structures.  Other than
the division names, the list can contain ‘full’ and ‘reduced’ to indicate
the full covariance matrix of all instrument pixels, or only those that
were used in the reduction.  See <a class="reference internal" href="#division-name">division.&lt;name&gt;</a> and <a class="reference internal" href="#noslim">noslim</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="write-covar-condensed"><strong>write.covar.condensed</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[covar]]</div>
<div class="line">condensed={True, False}</div>
</div>
</td>
<td><p>When writing covariance matrices, write only ‘live’ channels.  I.e. those
that are unflagged by the reduction.  This results in a covariance matrix
without gaps.  The downside is that identifying particular
pixels/channels may be difficult in that form.  See <a class="reference internal" href="#write-covar">write.covar</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="write-flatfield"><strong>write.flatfield</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[flatfield]]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Write a DRP flatfield FITS file to be used by the chop-nod pipeline.  The
file format is specified by Marc Berthoud.</p></td>
</tr>
<tr class="row-odd"><td><p id="write-flatfield-name"><strong>write.flatfield.name</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[flatfield]]</div>
<div class="line">name=&lt;filename&gt;</div>
</div>
</td>
<td><p>An optional setting to specify the FITS file name for <a class="reference internal" href="#write-flatfield">write.flatfield</a>.
If not present, a default name containing the scan ID is written to
<a class="reference internal" href="#outpath">outpath</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="write-pixeldata"><strong>write.pixeldata</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">pixeldata={True, False}</div>
</div>
</td>
<td><p>Write the pixel data file (gains, weights, flags).  The output will be
pixel-&lt;scanno&gt;.dat’ in <a class="reference internal" href="#outpath">outpath</a>.  You can use these files to update
instrumental defaults in the instrument subdirectory.  E.g., to replace
‘pixel-A.170mK.F445.dat’ in data/configurations/hawc_plus/.  See <a class="reference internal" href="#rcp">rcp</a> and
<a class="reference internal" href="#wiring">wiring</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="write-png"><strong>write.png</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[png]]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Write a PNG thumbnail with the final result.  The PNG image has the same
name as the output file with a ‘.png’ appended.  See <a class="reference internal" href="#write-png-color">write.png.color</a>,
<a class="reference internal" href="#write-png-crop">write.png.crop</a>, <a class="reference internal" href="#write-png-plane">write.png.plane</a>, <a class="reference internal" href="#write-png-size">write.png.size</a>, and
<a class="reference internal" href="#write-png-smooth">write.png.smooth</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="write-png-color"><strong>write.png.color</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[png]]</div>
<div class="line">color=&lt;name&gt;</div>
</div>
</td>
<td><p>Set the color scheme for rendering the PNG image.  The available color
scheme names are any that may be passed into the ‘cmap’ parameter of the
Python function matplotlib.pyplot.imshow.  If not supplied, the default
will be ‘viridis’.</p></td>
</tr>
<tr class="row-odd"><td><p id="write-png-crop"><strong>write.png.crop</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[png]]</div>
<div class="line">crop={auto or &lt;xmin&gt;,&lt;ymin&gt;, &lt;xmax&gt;,&lt;ymax&gt;}</div>
</div>
</td>
<td><p>Set rectangular bounds to the PNG output image in the instrument’s native
size unit (usually arcseconds).  The argument is usually a list of
comma-separated corners relative the the source position.  If a single
value is given then the PNG output will be a square area with +/- that
size in X and Y.  If 2 or 3 values are supplied, the missing offsets will
be assumed to be the negative equivalent to the coordinates given.  Thus:</p>
<ul class="simple">
<li><p>90 = -90, -90, 90, 90</p></li>
<li><p>60, 90 = -60, -90, 60, 90</p></li>
<li><p>-45, -50, 60 = -45, -50, 60, 50</p></li>
</ul>
<p>If ‘auto’ is used, the map will automatically be cropped to the best
dimensions for all valid pixels in the map.  See <a class="reference internal" href="#write-png">write.png</a>.</p>
</td>
</tr>
<tr class="row-even"><td><p id="write-png-plane"><strong>write.png.plane</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[png]]</div>
<div class="line">plane={flux, noise, weight, time, s2n}</div>
</div>
</td>
<td><p>Selects the FITS image plane to write into the PNG.  Unrecognized planes
will be interpreted as ‘flux’ (default).  See <a class="reference internal" href="#write-png">write.png</a>.</p></td>
</tr>
<tr class="row-odd"><td><p id="write-png-size"><strong>write.png.size</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[png]]</div>
<div class="line">size={&lt;x&gt;X&lt;y&gt; or &lt;x&gt;,&lt;y&gt; or &lt;X&gt;}</div>
</div>
</td>
<td><p>Set the size of the PNG thumbnails.  You can specify both a single
integer for square images or two integers separated by ‘x’, ‘,’ or ‘X’.
E.g., 640x480.  The default size is 300x300.  See <a class="reference internal" href="#write-png">write.png</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="write-png-smooth"><strong>write.png.smooth</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[png]]</div>
<div class="line">smooth=&lt;spec&gt;</div>
</div>
</td>
<td><p>Specify how much to smooth the PNG output.  The options works in the same
manner to the regular <a class="reference internal" href="#smooth">smooth</a> option for FITS images, but is not
completely independent from it.  PNG images are always smoothed as much
as required by <a class="reference internal" href="#smooth">smooth</a>, and this option is only effective if the PNG
smoothing is larger.</p></td>
</tr>
<tr class="row-odd"><td><p id="write-signals"><strong>write.signals</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">signals={True, False}</div>
</div>
</td>
<td><p>Write out all the correlated signals that were calculated in the
reduction as ASCII timestreams.  Each signal mode is written in its own
file, named after the mode’s name and carrying a ‘.tms’ extension.  The
files are simple ASCII timestreams with the sampling frequency appearing
in the first row.</p></td>
</tr>
<tr class="row-even"><td><p id="write-scandata"><strong>write.scandata</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[scandata]]</div>
<div class="line">value={True, False}</div>
</div>
</td>
<td><p>Whether or not to add HDUs at the end of the output FITS image
describing each scan (default).  Each scan will contribute an extra HDU
at the end of the image.  Disabling this option (e.g. via <a class="reference internal" href="#forget">forget</a>) can
decrease the size of the output images, especially for large data sets
containing many scans.</p></td>
</tr>
<tr class="row-odd"><td><p id="write-scandata-details"><strong>write.scandata.details</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[scandata]]</div>
<div class="line">details={True, False}</div>
</div>
</td>
<td><p>when enabled, <a class="reference internal" href="#write-scandata">write.scandata</a> will add extra detail into the FITS
outputs such as channel gains, weights, flags, spectral filtering,
profiles, and residual noise power spectra.  See <a class="reference internal" href="#write-scandata">write.scandata</a>.</p></td>
</tr>
<tr class="row-even"><td><p id="write-spectrum"><strong>write.spectrum</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[spectrum]]</div>
<div class="line">value=&lt;window&gt;</div>
</div>
</td>
<td><p>Writes channel spectra (of residuals) into an ASCII table.  The optional
argument &lt;window&gt; can specify a window function to use.  This is passed
into the Python function scipy.signal.welch in the ‘window’ parameter.
Please see scipy.signal.get_window for a list of available window types.
The default is ‘hamming’.</p>
<p>The first column in the output file indicated the frequency, after which
come the power-spectral-densities (PSF) of each channel used in the
reduction.  See <a class="reference internal" href="#noslim">noslim</a> and <a class="reference internal" href="#write-ascii">write.ascii</a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p id="write-spectrum-size"><strong>write.spectrum.size</strong></p>
</td>
<td><div class="line-block">
<div class="line">[write]</div>
<div class="line">[[spectrum]]</div>
<div class="line">size=&lt;N&gt;</div>
</div>
</td>
<td><p>Specify the window size (in powers of 2) to use for measuring spectra.
By default, the spectral range is set by the 1/f filtering timescale
(<a class="reference internal" href="#drifts">drifts</a>).</p></td>
</tr>
</tbody>
</table>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Configuration</a><ul>
<li><a class="reference internal" href="#default-configurations">Default Configurations</a><ul>
<li><a class="reference internal" href="#format">Format</a></li>
<li><a class="reference internal" href="#order-and-the-config-command">Order and the config command</a></li>
<li><a class="reference internal" href="#conditionals">Conditionals</a></li>
<li><a class="reference internal" href="#fits-configuration">FITS configuration</a></li>
<li><a class="reference internal" href="#date">Date</a></li>
<li><a class="reference internal" href="#iteration">Iteration</a></li>
<li><a class="reference internal" href="#aliases">Aliases</a></li>
<li><a class="reference internal" href="#commands">Commands</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-glossary">Configuration Glossary</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../../_sources/sofia_redux/scan/scan_configuration.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2023, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.1.2. &nbsp;
    Last built 13 Aug 2023. <br/>
  </p>
</footer>
  </body>
</html>