<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sofia_redux.pipeline.sofia.flitecam_spatcal_reduction &#8212; sofia_redux v1.3.4.dev0</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/plot_directive.css" />
    
    <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js?v=602f4d50"></script>
    <script src="../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script type="text/javascript" src="../../../../_static/sidebar.js"></script>
    <script type="text/javascript" src="../../../../_static/copybutton.js"></script>
    <link rel="icon" href="../../../../_static/redux.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../../../../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://www.sofia.usra.edu/"></a></li>
    <li><a title="General Index" href="../../../../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../../../../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../../../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li>
	<a href="../../../../index.html">sofia_redux v1.3.4.dev0</a>
	 &#187;
      </li>
      <li><a href="../../../index.html" accesskey="U">Module code</a> &#187;</li>
      
       
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for sofia_redux.pipeline.sofia.flitecam_spatcal_reduction</h1><div class="highlight"><pre>
<span></span># Licensed under a 3-clause BSD style license - see LICENSE.rst
&quot;&quot;&quot;FLITECAM Grism Spatcal Reduction pipeline steps&quot;&quot;&quot;

from sofia_redux.pipeline.sofia.sofia_exception import SOFIAImportError
try:
    import sofia_redux.instruments.flitecam
    assert sofia_redux.instruments.flitecam
except ImportError:
    raise SOFIAImportError(&#39;FLITECAM modules not installed&#39;)


from sofia_redux.pipeline.sofia.flitecam_reduction import FLITECAMReduction
from sofia_redux.pipeline.sofia.flitecam_spectroscopy_reduction \
    import FLITECAMSpectroscopyReduction
from sofia_redux.pipeline.sofia.parameters.flitecam_spatcal_parameters \
    import FLITECAMSpatcalParameters
from sofia_redux.pipeline.sofia.forcast_spatcal_reduction \
    import FORCASTSpatcalReduction

__all__ = [&#39;FLITECAMSpatcalReduction&#39;]


<div class="viewcode-block" id="FLITECAMSpatcalReduction"><a class="viewcode-back" href="../../../../api/sofia_redux.pipeline.sofia.flitecam_spatcal_reduction.FLITECAMSpatcalReduction.html#sofia_redux.pipeline.sofia.flitecam_spatcal_reduction.FLITECAMSpatcalReduction">[docs]</a>class FLITECAMSpatcalReduction(FLITECAMSpectroscopyReduction,
                               FORCASTSpatcalReduction):
    r&quot;&quot;&quot;
    FLITECAM spectroscopic spatial calibration reduction steps.

    This reduction object defines specialized reduction steps
    for generating spatial calibration data from spectroscopic
    input files.  It is selected by the SOFIA chooser only if a
    top-level configuration flag is supplied (spatcal=True).  The
    final output product from this reduction is a FITS file (\*SCL\*.fits)
    with PRODTYPE = &#39;spatcal&#39;.  This file can be supplied to the
    standard spectroscopic pipeline, at the make_profiles step,
    to specify a new spatial calibration.
    &quot;&quot;&quot;
    def __init__(self):
        &quot;&quot;&quot;Initialize the reduction object.&quot;&quot;&quot;
        super().__init__()

        # descriptive attributes specific to calibration
        self.name = &#39;Spatcal&#39;

        # product type definitions for spectral steps
        self.prodtype_map.update(
            {&#39;make_profiles&#39;: &#39;spatial_profile&#39;,
             &#39;fit_traces&#39;: &#39;traces_fit&#39;,
             &#39;rectify&#39;: &#39;rectified_image&#39;})
        self.prodnames.update(
            {&#39;spatial_profile&#39;: &#39;PRF&#39;,
             &#39;traces_fit&#39;: &#39;TFT&#39;,
             &#39;rectified_image&#39;: &#39;RIM&#39;})

        # invert the map for quick lookup of step from type
        self.step_map = {v: k for k, v in self.prodtype_map.items()}

        # default recipe and step names
        self.recipe = [&#39;check_header&#39;, &#39;correct_linearity&#39;, &#39;make_image&#39;,
                       &#39;stack_dithers&#39;, &#39;make_profiles&#39;,
                       &#39;locate_apertures&#39;, &#39;trace_continuum&#39;,
                       &#39;fit_traces&#39;, &#39;rectify&#39;]
        self.processing_steps.update({&#39;fit_traces&#39;: &#39;Fit Trace Positions&#39;,
                                      &#39;rectify&#39;: &#39;Verify Rectification&#39;})

<div class="viewcode-block" id="FLITECAMSpatcalReduction.load"><a class="viewcode-back" href="../../../../api/sofia_redux.pipeline.sofia.flitecam_spatcal_reduction.FLITECAMSpatcalReduction.html#sofia_redux.pipeline.sofia.flitecam_spatcal_reduction.FLITECAMSpatcalReduction.load">[docs]</a>    def load(self, data, param_class=None):
        &quot;&quot;&quot;Call parent load, with spatcal parameters.&quot;&quot;&quot;
        FLITECAMReduction.load(
            self, data, param_class=FLITECAMSpatcalParameters)</div></div>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right"> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2023, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.1.2. &nbsp;
    Last built 13 Aug 2023. <br/>
  </p>
</footer>
  </body>
</html>