<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>readhwp &#8212; sofia_redux v1.3.4.dev0</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=602f4d50"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="icon" href="../_static/redux.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="clipped_mean" href="sofia_redux.instruments.hawc.steps.basehawc.clipped_mean.html" />
    <link rel="prev" title="readnod" href="sofia_redux.instruments.hawc.steps.basehawc.readnod.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://www.sofia.usra.edu/"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="sofia_redux.instruments.hawc.steps.basehawc.clipped_mean.html" title="clipped_mean">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="sofia_redux.instruments.hawc.steps.basehawc.readnod.html" title="readnod">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">sofia_redux v1.3.4.dev0</a>
	 &#187;
      </li>
      <li><a href="../sofia_redux/index.html" >SOFIA Redux</a> &#187;</li>
      <li><a href="../manuals/hawc/developers/developers.html" accesskey="U">HAWC+ DRP Developer’s Manual</a> &#187;</li>
      
      <li>readhwp</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="readhwp">
<h1>readhwp<a class="headerlink" href="#readhwp" title="Permalink to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="sofia_redux.instruments.hawc.steps.basehawc.readhwp">
<span class="sig-prename descclassname"><span class="pre">sofia_redux.instruments.hawc.steps.basehawc.</span></span><span class="sig-name descname"><span class="pre">readhwp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hwp_tol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampfreq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sofia_redux/instruments/hawc/steps/basehawc.html#readhwp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sofia_redux.instruments.hawc.steps.basehawc.readhwp" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine HWP state for all samples.</p>
<p>This function determines HWP angles and moving intervals.
It also makes sure all HWP intervals have roughly the same
length (short intervals are removed).</p>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">hwp_tol</span></code> parameter is used to determine when the HWP is moving. If
the HWP angle changes by more than this amount between two samples,
then the code counts this as a division between HWP angles, and starts
a new HWP position. Furthermore, a division will only be accounted
for if the HWP angle stays in its new position for more than 2
seconds, in order to avoid considering noisy peaks that might
occur as a real change in the HWP angle. Set <code class="xref py py-obj docutils literal notranslate"><span class="pre">hwp_tol</span></code> to a number
greater than 360 to force all the data to be in the same HWP angle
The recommended value is between 0.2 and 0.3 for discrete HWP
and 400 for continuous HWP movement.</p>
<p>The step.praw[‘HWP Index’] column is updated in place by this
function: it is filled with the angle index found (starting at 0).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>step</strong><span class="classifier">StepParent</span></dt><dd><p>The calling pipe step, containing data loaded into
step.praw.</p>
</dd>
<dt><strong>nsamp: int</strong></dt><dd><p>The number of samples in the input data.</p>
</dd>
<dt><strong>hwp_tol</strong><span class="classifier">float</span></dt><dd><p>HWP angle tolerance in degrees.</p>
</dd>
<dt><strong>sampfreq</strong><span class="classifier">float</span></dt><dd><p>The sampling frequency in Hz.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>hwpstate</strong><span class="classifier">array-like</span></dt><dd><p>The HWP state array contains values 1 (good) and 0 (bad).</p>
</dd>
<dt><strong>nhwp</strong><span class="classifier">int</span></dt><dd><p>The number of HWP angles found.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">readhwp</a><ul>
<li><a class="reference internal" href="#sofia_redux.instruments.hawc.steps.basehawc.readhwp"><code class="docutils literal notranslate"><span class="pre">readhwp()</span></code></a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/sofia_redux.instruments.hawc.steps.basehawc.readhwp.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2023, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.1.2. &nbsp;
    Last built 13 Aug 2023. <br/>
  </p>
</footer>
  </body>
</html>