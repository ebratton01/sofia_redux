<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>imgshift_header &#8212; sofia_redux v1.3.4.dev0</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=602f4d50"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="icon" href="../_static/redux.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="jbfft" href="sofia_redux.instruments.forcast.jbclean.jbfft.html" />
    <link rel="prev" title="imgnonlin" href="sofia_redux.instruments.forcast.imgnonlin.imgnonlin.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://www.sofia.usra.edu/"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="sofia_redux.instruments.forcast.jbclean.jbfft.html" title="jbfft">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="sofia_redux.instruments.forcast.imgnonlin.imgnonlin.html" title="imgnonlin">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">sofia_redux v1.3.4.dev0</a>
	 &#187;
      </li>
      <li><a href="../sofia_redux/index.html" >SOFIA Redux</a> &#187;</li>
      <li><a href="../manuals/forcast/developers/developers.html" accesskey="U">FORCAST Redux Developer’s Manual</a> &#187;</li>
      
      <li>imgshift_header</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="imgshift-header">
<h1>imgshift_header<a class="headerlink" href="#imgshift-header" title="Permalink to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="sofia_redux.instruments.forcast.imgshift_header.imgshift_header">
<span class="sig-prename descclassname"><span class="pre">sofia_redux.instruments.forcast.imgshift_header.</span></span><span class="sig-name descname"><span class="pre">imgshift_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dither</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dripconf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sofia_redux/instruments/forcast/imgshift_header.html#imgshift_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sofia_redux.instruments.forcast.imgshift_header.imgshift_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the shift_image in the pixel frame for merging an image</p>
<p>Reads the chop/nod/dither amplitudes, angles, and transform from the
sky to the detector frame depending on the coordinate system.</p>
<p>The chop/nod angle was defined in the opposite sense in flights
earlier than 103.  This distinction is recorded in the ANGLCONV
keyword value in the header.  If “positive”, as for 99 and earlier,
use the angle as written in the header; otherwise, angles
will need to be converted to negative values.</p>
<p>The chop, nod, and dither coordinate systems (CHPCRSYS, NODCRSYS,
DTHCRSYS in the header) may take values of SIRF (science instrument
reference frame), TARF (telescope assembly reference frame), or
ERF (equatorial reference frame).  If these keywords are not
available in the header, we check the CHPCOORD, NODCOORD, and
DTHRCS) keywords.  The COORD/CS keyword values are integers where
0=SIRF, 1=TARF, and 2=ERF.  If the coordinate system cannot be
be determined, SIRF is used by default.  TARF is seen as equivalent
to SIRF for the purposes of this algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>header</strong><span class="classifier">astropy.io.fits.header.Header</span></dt><dd><p>A FITS header</p>
</dd>
<dt><strong>chop</strong><span class="classifier">bool, optional</span></dt><dd><p>Indicates whether to perform the calculation of chop shift_image</p>
</dd>
<dt><strong>nod</strong><span class="classifier">bool, optional</span></dt><dd><p>Indicates whether to perform the calculation of nod shift_image</p>
</dd>
<dt><strong>dither</strong><span class="classifier">bool, optional</span></dt><dd><p>Indicates whether to perform the calculation of dither shift_image</p>
</dd>
<dt><strong>dripconf</strong><span class="classifier">bool, optional</span></dt><dd><p>Indicates whether configuration values can overwrite header
keyword values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><p>A dict containing the X and Y shifts necessary to merge or
coadd an image based on the header keywords.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">imgshift_header</a><ul>
<li><a class="reference internal" href="#sofia_redux.instruments.forcast.imgshift_header.imgshift_header"><code class="docutils literal notranslate"><span class="pre">imgshift_header()</span></code></a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/sofia_redux.instruments.forcast.imgshift_header.imgshift_header.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2023, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.1.2. &nbsp;
    Last built 13 Aug 2023. <br/>
  </p>
</footer>
  </body>
</html>