<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>adjustguesspos &#8212; sofia_redux v1.3.4.dev0</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=602f4d50"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="icon" href="../_static/redux.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="atmosdisp" href="sofia_redux.spectroscopy.atmosdisp.atmosdisp.html" />
    <link rel="prev" title="sofia_redux.spectroscopy: Spectroscopic Algorithms for SOFIA Pipelines" href="../sofia_redux/spectroscopy/index.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://www.sofia.usra.edu/"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="sofia_redux.spectroscopy.atmosdisp.atmosdisp.html" title="atmosdisp">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="../sofia_redux/spectroscopy/index.html" title="sofia_redux.spectroscopy: Spectroscopic Algorithms for SOFIA Pipelines">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">sofia_redux v1.3.4.dev0</a>
	 &#187;
      </li>
      <li><a href="../sofia_redux/index.html" >SOFIA Redux</a> &#187;</li>
      <li><a href="../sofia_redux/spectroscopy/index.html" accesskey="U">sofia_redux.spectroscopy: Spectroscopic Algorithms for SOFIA Pipelines</a> &#187;</li>
      
      <li>adjustguesspos</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="adjustguesspos">
<h1>adjustguesspos<a class="headerlink" href="#adjustguesspos" title="Permalink to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="sofia_redux.spectroscopy.adjustguesspos.adjustguesspos">
<span class="sig-prename descclassname"><span class="pre">sofia_redux.spectroscopy.adjustguesspos.</span></span><span class="sig-name descname"><span class="pre">adjustguesspos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edgecoeffs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xranges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordermask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cor_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ybuffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sofia_redux/spectroscopy/adjustguesspos.html#adjustguesspos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sofia_redux.spectroscopy.adjustguesspos.adjustguesspos" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust the guess positions via cross-correlation</p>
<p>Performs a vertical cross-correlation between the order mask and
the raw flat field of a single order to identify the shift between
the two.  This shift is subtracted from the guess positions.  The
xranges are then checked to ensure the order range does not fall
off the array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>edgecoeffs</strong><span class="classifier">array_like of float (norders, 2, order+1)</span></dt><dd><p>Polynomial coefficients which define the edges of the orders.
edgecoeffs[0, 0, :] are the coefficients of the bottom edge of
the first order and edgecoeffs[0, 1, :] are the coefficients
of the top edge of the first order.</p>
</dd>
<dt><strong>xranges</strong><span class="classifier">array_like of float (norders, 2)</span></dt><dd><p>Column numbers between which the orders are completely on the array.</p>
</dd>
<dt><strong>flat</strong><span class="classifier">array_like of float (nrow, ncol)</span></dt><dd><p>Raw flat field</p>
</dd>
<dt><strong>ordermask</strong><span class="classifier">array_like of int (nrow, ncol)</span></dt><dd><p>Array where each pixel is set to its order number.  Interorder
pixels are set to zero.</p>
</dd>
<dt><strong>orders</strong><span class="classifier">array_like of int (norders,), optional</span></dt><dd><p>Order numbers to process.  Set to all by default.</p>
</dd>
<dt><strong>cor_order</strong><span class="classifier">int, optional</span></dt><dd><p>The order with which o do the cross-correlation.  Will default
to the first order in <code class="xref py py-obj docutils literal notranslate"><span class="pre">orders</span></code>.</p>
</dd>
<dt><strong>ybuffer</strong><span class="classifier">int, optional</span></dt><dd><p>The number of pixels to buffer from the top and bottom of the
array.</p>
</dd>
<dt><strong>default</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, return the default guess positions and xranges.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>guess, xranges</strong><span class="classifier">numpy.ndarray, numpy.ndarray</span></dt><dd><p>The adjusted guess positions and xranges.  Both of type int
and size (norders, 2).  guess[:, 0] = y-guess and
guess[:, 1] = x-guess.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If the range falls off the array, this will be marked by
xrange = [-1, -1] for the affected order.</p>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">adjustguesspos</a><ul>
<li><a class="reference internal" href="#sofia_redux.spectroscopy.adjustguesspos.adjustguesspos"><code class="docutils literal notranslate"><span class="pre">adjustguesspos()</span></code></a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/sofia_redux.spectroscopy.adjustguesspos.adjustguesspos.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2023, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.1.2. &nbsp;
    Last built 13 Aug 2023. <br/>
  </p>
</footer>
  </body>
</html>