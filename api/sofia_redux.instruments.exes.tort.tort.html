<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>tort &#8212; sofia_redux v1.3.4.dev0</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=602f4d50"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="icon" href="../_static/redux.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="tortcoord" href="sofia_redux.instruments.exes.tortcoord.tortcoord.html" />
    <link rel="prev" title="submean" href="sofia_redux.instruments.exes.submean.submean.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://www.sofia.usra.edu/"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="sofia_redux.instruments.exes.tortcoord.tortcoord.html" title="tortcoord">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="sofia_redux.instruments.exes.submean.submean.html" title="submean">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">sofia_redux v1.3.4.dev0</a>
	 &#187;
      </li>
      <li><a href="../sofia_redux/index.html" >SOFIA Redux</a> &#187;</li>
      <li><a href="../manuals/exes/developers/developers.html" accesskey="U">EXES Redux Developer’s Manual</a> &#187;</li>
      
      <li>tort</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="tort">
<h1>tort<a class="headerlink" href="#tort" title="Permalink to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="sofia_redux.instruments.exes.tort.tort">
<span class="sig-prename descclassname"><span class="pre">sofia_redux.instruments.exes.tort.</span></span><span class="sig-name descname"><span class="pre">tort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skew</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">badfrac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_illum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spline'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sofia_redux/instruments/exes/tort.html#tort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sofia_redux.instruments.exes.tort.tort" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct image for optical distortion.</p>
<p>Calls <code class="xref py py-obj docutils literal notranslate"><span class="pre">exes.tortcoord</span></code> to calculate undistorted coordinates from
raw pixel coordinates and distortion parameters in the header.  The
image is then interpolated onto the undistorted coordinates.  If
the variance is provided, it is also interpolated onto undistorted
coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>[nframe, nspec, nspat] cube or [nspec, nspat] image.</p>
</dd>
<dt><strong>header</strong><span class="classifier">fits.Header</span></dt><dd><p>FITS header with distortion parameters set.</p>
</dd>
<dt><strong>variance</strong><span class="classifier">numpy.ndarray, optional</span></dt><dd><p>Variance array matching <code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code> dimensions.</p>
</dd>
<dt><strong>skew</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, correct for echelon slit skewing.</p>
</dd>
<dt><strong>order</strong><span class="classifier">int, optional</span></dt><dd><p>Order of interpolation (0-5).  0 is nearest value, 1 is
linear interpolation, 3 is cubic interpolation.</p>
</dd>
<dt><strong>missing</strong><span class="classifier">float, optional</span></dt><dd><p>Value to use in output frames for missing data.</p>
</dd>
<dt><strong>badfrac</strong><span class="classifier">float, optional</span></dt><dd><p>The allowable fraction of NaN-valued points used to generate an
interpolated value.  If this fraction is greater than <code class="xref py py-obj docutils literal notranslate"><span class="pre">badfrac</span></code>,
it will be replaced by <code class="xref py py-obj docutils literal notranslate"><span class="pre">missing</span></code>.  Note that all NaNs are replaced by
zero before interpolation.</p>
</dd>
<dt><strong>get_illum</strong><span class="classifier">bool, optional</span></dt><dd><p>If set, an undistorted illumination mask will be returned.</p>
</dd>
<dt><strong>interpolation_method</strong><span class="classifier">{‘spline’, ‘convolution’}, optional</span></dt><dd><p>If ‘convolution’, a separable parametric cubic convolution algorithm
is applied, replicating the original IDL interpolation method for the
EXES pipeline.  If ‘spline’, the interpolation is performed via
piecewise splines of the specified order.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>tortdata, [tortvar], [tortillum]</strong><span class="classifier">numpy.ndarray or tuple of numpy.ndarray</span></dt><dd><p>The corrected data and optional variance and illumination arrays
(if supplied and/or requested).  Will be of shape
[nframe, nspec, nspat] if nframe &gt; 1; [nspec, nspat] otherwise.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">tort</a><ul>
<li><a class="reference internal" href="#sofia_redux.instruments.exes.tort.tort"><code class="docutils literal notranslate"><span class="pre">tort()</span></code></a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/sofia_redux.instruments.exes.tort.tort.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2023, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.1.2. &nbsp;
    Last built 13 Aug 2023. <br/>
  </p>
</footer>
  </body>
</html>