<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>calculate_minimum_bandwidth &#8212; sofia_redux v1.3.4.dev0</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=602f4d50"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="icon" href="../_static/redux.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="flat_index_mapping" href="sofia_redux.toolkit.splines.spline_utils.flat_index_mapping.html" />
    <link rel="prev" title="find_knot" href="sofia_redux.toolkit.splines.spline_utils.find_knot.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://www.sofia.usra.edu/"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="sofia_redux.toolkit.splines.spline_utils.flat_index_mapping.html" title="flat_index_mapping">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="sofia_redux.toolkit.splines.spline_utils.find_knot.html" title="find_knot">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">sofia_redux v1.3.4.dev0</a>
	 &#187;
      </li>
      <li><a href="../sofia_redux/index.html" >SOFIA Redux</a> &#187;</li>
      <li><a href="../sofia_redux/toolkit/index.html" accesskey="U">sofia_redux.toolkit: Shared Utilities for SOFIA Pipelines</a> &#187;</li>
      
      <li>calculate_minimum_bandwidth</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="calculate-minimum-bandwidth">
<h1>calculate_minimum_bandwidth<a class="headerlink" href="#calculate-minimum-bandwidth" title="Permalink to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="sofia_redux.toolkit.splines.spline_utils.calculate_minimum_bandwidth">
<span class="sig-prename descclassname"><span class="pre">sofia_redux.toolkit.splines.spline_utils.</span></span><span class="sig-name descname"><span class="pre">calculate_minimum_bandwidth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degrees</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_knots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permutations</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sofia_redux/toolkit/splines/spline_utils.html#calculate_minimum_bandwidth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sofia_redux.toolkit.splines.spline_utils.calculate_minimum_bandwidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the minimum possible bandwidth given knots and spline degree.</p>
<p>The bandwidth of a given observation matrix is given as:</p>
<p>k0(d1*d2*d3*…*dn) + k1(d2*d3*…*dn) + k2(d3*…*dn) + … + kn</p>
<p>for the n-dimensional case where a number (1,2,3, etc) signifies the
dimension number, k represents the degree, and dn is given as
n_knots - k - 1.  This function loops through all available dimensional
permutations in order to find the permutation that results in the smallest
bandwidth.</p>
<p>Finding the bandwidth is only relevant in more than one dimension.
The bandwidth of the observation matrix may be minimized by switching the
order of dimensions (coordinates, degrees, knot lines, etc.).  This can
speed up evaluation of spline coefficients and knot locations.</p>
<p>To save speed, permutations should be pre-calculated and supplied to this
function, containing each possible ordering of the dimensions.  For
example, for two dimensions, permutations would be [[0, 1], [1, 0]].
For three dimensions permutations would be:</p>
<dl class="simple">
<dt>[[0 1 2]</dt><dd><p>[0 2 1]
[1 0 2]
[1 2 0]
[2 0 1]
[2 1 0]]</p>
</dd>
</dl>
<p>Note that for 1-dimension the minimum bandwidth will be fixed.</p>
<p>Dimensional permutations can be calculated via:</p>
<blockquote>
<div><p>permutations = np.array(list(itertools.permutations(range(n_dim))))</p>
</div></blockquote>
<p>where ndim is the number of dimensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>degrees</strong><span class="classifier">numpy.ndarray (int)</span></dt><dd><p>The degrees of the spline in each dimension (n_dimensions,).</p>
</dd>
<dt><strong>n_knots</strong><span class="classifier">numpy.ndarray (int)</span></dt><dd><p>The number of knots in each dimension (n_dimensions,).</p>
</dd>
<dt><strong>permutations</strong><span class="classifier">numpy.ndarray (int)</span></dt><dd><p>All possible dimensional ordering of shape
(n_permutations, n_dimensions).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>minimum_bandwidth, permutation_index, changed</strong><span class="classifier">int, int, bool</span></dt><dd><p>The minimum bandwidth, the index of the permutation for the minimum
bandwidth, and whether the permutation is different to the first
available permutation.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">calculate_minimum_bandwidth</a><ul>
<li><a class="reference internal" href="#sofia_redux.toolkit.splines.spline_utils.calculate_minimum_bandwidth"><code class="docutils literal notranslate"><span class="pre">calculate_minimum_bandwidth()</span></code></a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/sofia_redux.toolkit.splines.spline_utils.calculate_minimum_bandwidth.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2023, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.1.2. &nbsp;
    Last built 13 Aug 2023. <br/>
  </p>
</footer>
  </body>
</html>