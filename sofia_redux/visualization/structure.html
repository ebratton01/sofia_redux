<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Design Philosophy &#8212; sofia_redux v1.3.4.dev0</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    
    <script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=602f4d50"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <link rel="icon" href="../../_static/redux.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Models" href="models.html" />
    <link rel="prev" title="sofia_redux.visualization: The Eye of SOFIA" href="index.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://www.sofia.usra.edu/"></a></li>
    <li><a title="General Index" href="../../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="models.html" title="Models">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="index.html" title="sofia_redux.visualization: The Eye of SOFIA">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../../index.html">sofia_redux v1.3.4.dev0</a>
	 &#187;
      </li>
      <li><a href="../index.html" >SOFIA Redux</a> &#187;</li>
      <li><a href="index.html" accesskey="U">sofia_redux.visualization: The Eye of SOFIA</a> &#187;</li>
      
      <li>Design Philosophy</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="design-philosophy">
<span id="eye-design"></span><h1>Design Philosophy<a class="headerlink" href="#design-philosophy" title="Permalink to this heading">¶</a></h1>
<p>The Eye of SOFIA utilizes a standard Model-View-Controller design pattern for
its top-level structure. All instructions from a user are sent to the
“Controller”, which parses the instructions into commands the program can
use. The “Model” is responsible for reading, understanding, and storing
data in a way that the “View” can understand. The “View” accepts commands
from the “Controller” and is responsible for showing the user the requested
data in the “Models” in the desired manner.</p>
<p>In the Eye of SOFIA, the role of “Controller” is taken by the
<a class="reference internal" href="../../api/sofia_redux.visualization.eye.Eye.html#sofia_redux.visualization.eye.Eye" title="sofia_redux.visualization.eye.Eye"><code class="xref py py-class docutils literal notranslate"><span class="pre">Eye</span></code></a> class. It accepts commands
from a user and passes them on to the relevant modules. Commands can come
from multiple places. The standard is through the GUI interface, which is
managed by the “View” classes. It can also be controlled programmatically by
through the Eye API. The redux package for reducing SOFIA data also utilizes
the Eye through the
<a class="reference internal" href="index.html#module-sofia_redux.visualization.redux_viewer" title="sofia_redux.visualization.redux_viewer"><code class="xref py py-class docutils literal notranslate"><span class="pre">EyeViewer</span></code></a> wrapper. To help
process command and events, particularly from the GUI, the Eye relies
heavily on PyQt5 signals and events, which are described in detail in
<a class="reference internal" href="signals.html#signals"><span class="std std-ref">Signals</span></a>.</p>
<p>The “View” is managed by the
<a class="reference internal" href="../../api/sofia_redux.visualization.display.view.View.html#sofia_redux.visualization.display.view.View" title="sofia_redux.visualization.display.view.View"><code class="xref py py-class docutils literal notranslate"><span class="pre">View</span></code></a> class and is
supported by other classes in the <code class="xref py py-mod docutils literal notranslate"><span class="pre">display</span></code> module. The primary job of the
<code class="xref py py-class docutils literal notranslate"><span class="pre">View</span></code> class is to manage the GUI, built with <code class="docutils literal notranslate"><span class="pre">PyQt5</span></code>. The GUI is
composed of two
components: the controls, managed by <code class="xref py py-class docutils literal notranslate"><span class="pre">View</span></code>, and the figure, managed by
<a class="reference internal" href="../../api/sofia_redux.visualization.display.figure.Figure.html#sofia_redux.visualization.display.figure.Figure" title="sofia_redux.visualization.display.figure.Figure"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a>. The figure
utilizes a <a class="reference external" href="https://matplotlib.org/stable/index.html#module-matplotlib" title="(in Matplotlib v3.7.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib</span></code></a> backend to generate and display interactive
plots. The figure supports multiple axes, each of which is managed by an
instance of the <a class="reference internal" href="../../api/sofia_redux.visualization.display.pane.Pane.html#sofia_redux.visualization.display.pane.Pane" title="sofia_redux.visualization.display.pane.Pane"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pane</span></code></a>
class. The components of each plot, referred to as artists in <a class="reference external" href="https://matplotlib.org/stable/index.html#module-matplotlib" title="(in Matplotlib v3.7.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib</span></code></a>
are managed by the custom class
<code class="xref py py-class docutils literal notranslate"><span class="pre">Artists</span></code> to
facilitate using blitting techniques for plotting, which are handled by
<a class="reference internal" href="../../api/sofia_redux.visualization.display.blitting.BlitManager.html#sofia_redux.visualization.display.blitting.BlitManager" title="sofia_redux.visualization.display.blitting.BlitManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlitManager</span></code></a>.
The plotting details are described in depth in <a class="reference internal" href="plotting.html#plotting"><span class="std std-ref">Plotting</span></a>.</p>
<p>The “Model” is managed by the
<a class="reference internal" href="../../api/sofia_redux.visualization.models.model.Model.html#sofia_redux.visualization.models.model.Model" title="sofia_redux.visualization.models.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> class and is
supported by other classes in the <code class="xref py py-mod docutils literal notranslate"><span class="pre">models</span></code> module. Models are created by
reading in a FITS file and parsing the data into a
<a class="reference internal" href="../../api/sofia_redux.visualization.models.high_model.HighModel.html#sofia_redux.visualization.models.high_model.HighModel" title="sofia_redux.visualization.models.high_model.HighModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">HighModel</span></code></a>
instance. Once the data has been read in, it is immutable; any desired
changes must be made to copies of the models. This is to allow for easy
return to default while exploring the data without having to read in the file
again.</p>
<p>Additional functionality is added by the
<code class="xref py py-class docutils literal notranslate"><span class="pre">utils</span></code> module, which contains
classes for processing unit conversions, configuring the logger, and defining
custom errors for the Eye.</p>
</section>
<section id="module-summaries">
<span id="eye-module-summaries"></span><h1>Module Summaries<a class="headerlink" href="#module-summaries" title="Permalink to this heading">¶</a></h1>
<p>For quick reference a quick summary of the purpose of each module follows:</p>
<ul class="simple">
<li><p>Eye: Interpret instructions from user, command line, or API; load and
monitor data; give instructions to View</p></li>
<li><p>Controller: Parse command line; start up the Eye</p></li>
<li><p>Setup: Connect all PyQt signals and widgets to methods in Eye and View</p></li>
<li><p>Signals: Create all custom PyQt signals</p></li>
<li><p>Display</p>
<ul>
<li><p>Pane: Keep track of Axes, plot configurations (scale, fields, units),
create artists.</p></li>
<li><p>Figure: Create, arrange, remove, and supervise Panees</p></li>
<li><p>View: Supervise GUI, Figure</p></li>
<li><p>Drawing: Manages a single artist object for the Eye, handles all
updates to artists.</p></li>
<li><p>Gallery: Stores and manages all Drawing objects</p></li>
<li><p>Blitter: Keep track of Figure background; draw artists</p></li>
<li><p>CursorLocation: Show coordinates of cursor location in pop-out window</p></li>
<li><p>FittingResults: Show results of curve fitting in pop-out window</p></li>
<li><p>ReferenceWindow: Handles loading and displaying spectral
reference lines.</p></li>
<li><p>Quicklook: General quick plots of data sets</p></li>
<li><p>EyeViewer: Act as interface between Eye and Redux</p></li>
</ul>
</li>
<li><p>Utils</p>
<ul>
<li><p>EyeError: Custom exception for errors encountered in the Eye</p></li>
<li><p>Logger: Configure logs</p></li>
<li><p>UnitConversion: Handles converting units for all models</p></li>
<li><p>ModelFit: Manages model fits made to data</p></li>
</ul>
</li>
<li><p>Models:</p>
<ul>
<li><p>Model: Initialize a HighModel</p></li>
<li><p>HighModel: Defines a model that describes the contents of a single
FITS file</p></li>
<li><p>MidModel: Defines a model that describes a single observation</p></li>
<li><p>LowModel: Defines a model that describes a single measurement</p></li>
<li><p>ReferenceData: Manages spectral reference data loaded through
ReferenceWindow</p></li>
</ul>
</li>
</ul>
</section>
<section id="class-uml-diagram">
<span id="simple-uml"></span><h1>Class UML Diagram<a class="headerlink" href="#class-uml-diagram" title="Permalink to this heading">¶</a></h1>
<figure class="align-center" id="eye-class-uml">
<a class="reference internal image-reference" href="../../_images/simple_classes.png"><img alt="Simple UML diagram showing class relations in the Eye" src="../../_images/simple_classes.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 133 </span><span class="caption-text">Class UML diagram for the Eye of SOFIA. The color corresponds to
what part of the MVC framework the class belongs. Blue classes
make up the “Model”, green classes make up the “View”, and
pink classes make up the “Control”. The purple are auxiliary
utility modules.</span><a class="headerlink" href="#eye-class-uml" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Design Philosophy</a></li>
<li><a class="reference internal" href="#module-summaries">Module Summaries</a></li>
<li><a class="reference internal" href="#class-uml-diagram">Class UML Diagram</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../../_sources/sofia_redux/visualization/structure.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2023, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.1.2. &nbsp;
    Last built 13 Aug 2023. <br/>
  </p>
</footer>
  </body>
</html>