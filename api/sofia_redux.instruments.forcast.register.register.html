<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>register &#8212; sofia_redux v1.3.4.dev0</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=602f4d50"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="icon" href="../_static/redux.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="wcs_shift" href="sofia_redux.instruments.forcast.register_datasets.wcs_shift.html" />
    <link rel="prev" title="coadd_user" href="sofia_redux.instruments.forcast.register.coadd_user.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://www.sofia.usra.edu/"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="sofia_redux.instruments.forcast.register_datasets.wcs_shift.html" title="wcs_shift">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="sofia_redux.instruments.forcast.register.coadd_user.html" title="coadd_user">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">sofia_redux v1.3.4.dev0</a>
	 &#187;
      </li>
      <li><a href="../sofia_redux/index.html" >SOFIA Redux</a> &#187;</li>
      <li><a href="../manuals/flitecam/developers/developers.html" accesskey="U">FLITECAM Redux Developer’s Manual</a> &#187;</li>
      
      <li>register</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="register">
<h1>register<a class="headerlink" href="#register" title="Permalink to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="sofia_redux.instruments.forcast.register.register">
<span class="sig-prename descclassname"><span class="pre">sofia_redux.instruments.forcast.register.</span></span><span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crpix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_offsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sofia_redux/instruments/forcast/register.html#register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sofia_redux.instruments.forcast.register.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Use dither data to shift_image input image to a reference image.</p>
<p>This function shifts dithered observations of the same object into
the same pixel coordinate system, in preparation for coaddition
of the images.  No rotation or scaling is performed.  The method
for determining the shift_image is read from the configuration file.</p>
<p>In the configuration file, if CORCOADD is set to to CENTROID, then a
centroiding algorithm is used to determine the shift_image.  If CORCOADD is
XCOR, a cross-correlation algorithm is used.  If CORCOADD is HEADER,
ir no reference data is provided, then dither information from the
FITS header is used to determine the shift_image.  If CORCOADD is NOSHIFT,
then no shift_image is performed.  If the centroiding algorithm is selected
and it fails for any reason, then a header shift_image algorithm is used
instead.  If a reference source position and new source position are
provided in &lt;parameter: reference&gt; and &lt;parameter: position&gt;, they will
be used to determine the shift_image, regardless of the value of CORCOADD.</p>
<p>The order of the interpolation used to shift_image the data is determined
by the SHIFTORD keyword in the configuration file.  SHIFTORD=1 or 3 will
interpolate to perform sub-pixel shifts; SHIFTORD=0 will shift_image by
integer pixels (no interpolation).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>The image to register (nrow, ncol)</p>
</dd>
<dt><strong>header</strong><span class="classifier">astropy.io.fits.header.Header</span></dt><dd><p>The FITS header of the input data file</p>
</dd>
<dt><strong>reference</strong><span class="classifier">numpy.ndarray or 2-tuple, optional</span></dt><dd><p>The reference image or data to register to.  May be an image
array (for centroiding or cross-correlation) or a source position
(x, y).  If a reference source position is provided in REFDATA,
a new source position must be provided in &lt;parameter: position&gt;.
If &lt;parameter: reference&gt; is not specified, and the algorithm is not
NOSHIFT, then header data will be used to register the image.</p>
</dd>
<dt><strong>variance</strong><span class="classifier">numpy.ndarray, optional</span></dt><dd><p>Variance array (nrow, ncol) to update in parallel with the
data array.</p>
</dd>
<dt><strong>crpix</strong><span class="classifier">array_like, optional</span></dt><dd><p>2-element (x, y) array to update</p>
</dd>
<dt><strong>position</strong><span class="classifier">2-tuple, optional</span></dt><dd><p>Position (x, y) to register to a reference position provided
in &lt;parameter: reference&gt;, used with the interactive USER registration
algorithm.</p>
</dd>
<dt><strong>get_offsets</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, only return the (x, y) shift.  Headers will still be updated</p>
</dd>
<dt><strong>missing</strong><span class="classifier">float, optional</span></dt><dd><p>Value to represent missing data during shift</p>
</dd>
<dt><strong>algorithm</strong><span class="classifier">str, optional</span></dt><dd><p>Algorithm to use when registering images.  Default is to read from
the configuration.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>2-tuple</dt><dd><p>numpy.ndarray : Registered image array (nrow, ncol)
numpy.ndarray : Registered variance array (nrow, ncol)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">register</a><ul>
<li><a class="reference internal" href="#sofia_redux.instruments.forcast.register.register"><code class="docutils literal notranslate"><span class="pre">register()</span></code></a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/sofia_redux.instruments.forcast.register.register.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2023, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.1.2. &nbsp;
    Last built 13 Aug 2023. <br/>
  </p>
</footer>
  </body>
</html>